---
max-sublink-level: 2
---

# Gateway Events

Gateway connections are WebSockets, meaning they're bidirectional and either side of the WebSocket can send events to the other. The following events are split up into two types:

- **Send events** are Gateway events sent by a client to Discord (like when identifying with the Gateway)
- **Receive events** are Gateway events that are sent by Discord to a client. These events typically represent something happening inside of a guild where the user is a member of, like a channel being updated.

All Gateway events are encapsulated in a [Gateway payload](#gateway-payload-structure).

For more information about interacting with the Gateway, you can reference the [Gateway documentation](/topics/gateway).

### Event Names

In practice, event names are UPPER-CASED with under_scores joining each word in the name. For instance, [Channel Create](#channel-create) would be `CHANNEL_CREATE` and [Voice State Update](#voice-state-update) would be `VOICE_STATE_UPDATE`.

For readability, event names in the following documentation are typically left in Title Case.

### Gateway Payload Structure

Gateway event payloads have a common structure, but the contents of the associated data (`d`) varies between the different events.

| Field  | Type        | Description                                                                                                                            |
| ------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| op     | integer     | [Gateway Opcode](/topics/opcodes-and-status-codes#gateway-opcodes), which indicates the payload type                                   |
| d      | ?JSON value | Event data                                                                                                                             |
| s? ^1^ | ?integer    | Sequence number of event used for [resuming sessions](/topics/gateway#resuming) and [heartbeating](/topics/gateway#sending-heartbeats) |
| t? ^1^ | ?string     | Event name for this payload (`DISPATCH` Opcode only)                                                                                   |

^1^ These fields are received only, and `null` when the `op` is not `DISPATCH`.

###### Example Gateway Payload (Send)

```json
{
  "op": 2,
  "d": {}
}
```

###### Example Gateway Payload (Receive)

```json
{
  "op": 0,
  "d": {},
  "s": 42,
  "t": "GATEWAY_EVENT_NAME"
}
```

## Send Events

Send events are Gateway events encapsulated in an [event payload](#gateway-payload-structure), and are sent by a client to Discord through a Gateway connection.

| Name                                                          | Description                                                       |
| ------------------------------------------------------------- | ----------------------------------------------------------------- |
| [Identify](#identify)                                         | Trigger the initial handshake with the Gateway                    |
| [Resume](#resume)                                             | Resume a dropped Gateway connection                               |
| [Heartbeat](#heartbeat)                                       | Maintain an active Gateway connection                             |
| [Update Presence](#update-presence)                           | Update the client's presence                                      |
| [Update Voice State](#update-voice-state)                     | Join, move, or disconnect the client from a voice channel or call |
| [Ping Voice Server](#ping-voice-server)                       | Ping the Discord voice servers                                    |
| [Create Stream](#create-stream)                               | Create a stream for the client (Go Live)                          |
| [Watch Stream](#watch-stream)                                 | Watch a user's stream                                             |
| [Set Stream Paused](#set-stream-paused)                       | Pause/resume a client stream                                      |
| [Delete Stream](#delete-stream)                               | End a client stream                                               |
| [Ping Stream Server](#ping-stream-server)                     | Ping a user's stream voice server                                 |
| [Request Guild Members](#request-guild-members)               | Request members for one or more guilds                            |
| [Request Call Connect](#request-call-connect)                 | Request a private channels's pre-existing call information        |
| [Update Lobby Voice States](#update-lobby-voice-states)       | Update voice states for multiple lobbies                          |
| Update Guild Subscriptions                                    | Update subscriptions for a guild                                  |
| Request Forum Unreads                                         | Request thread-only channel unread counts                         |
| [Remote Command](<#remote-command-(send)>)                    | Send a message to another Gateway session                         |
| Request Deleted Entity IDs                                    | Request deleted entity IDs not matching a given hash for a guild  |
| [Request Soundboard Sounds](#request-soundboard-sounds)       | Request soundboard sounds for one or more guilds                  |
| [Request Last Messages](#request-last-messages)               | Request last messages for a guild's channels                      |
| [Search Recent Members](#search-recent-members)               | Request recently-joined members for a guild                       |
| [Request Channel Statuses](#request-channel-statuses)         | Request voice channel statuses for a guild                        |
| [Request Channel Member Count](#request-channel-member-count) | Request the number of members that can view a channel             |

#### Identify

Used to trigger the initial handshake with the Gateway.

Details about identifying is in the [Gateway documentation](/topics/gateway#identifying).

###### Identify Structure

| Field            | Type                                                     | Description                                                                                                                                                                                                                                                                     |
| ---------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| token            | string                                                   | Authentication token                                                                                                                                                                                                                                                            |
| properties       | [client properties](/reference#client-properties) object | Client and system information                                                                                                                                                                                                                                                   |
| compress?        | boolean                                                  | Whether this connection uses legacy payload compression (default false)                                                                                                                                                                                                         |
| large_threshold? | integer                                                  | Total number of members where, for bots, the Gateway will stop sending offline members in the guild member list, or, for users, stop sending non-stateful events for guilds without a subscription (25-250, default 25 for bots and 250 for users) {/* TODO: Verify default */} |
| shard?           | array[integer, integer]                                  | The connection's shard (shard_id, num_shards), used for [connection sharding](/topics/gateway#sharding)                                                                                                                                                                         |
| presence? ^1^    | [update presence](#update-presence-structure) object     | Initial presence information                                                                                                                                                                                                                                                    |
| intents? ^2^     | integer                                                  | The [Gateway intents](/topics/gateway#gateway-intents) you wish to receive                                                                                                                                                                                                      |
| capabilities?    | integer                                                  | The [Gateway capabilities](/topics/gateway#gateway-capabilities) you wish to enable                                                                                                                                                                                             |
| client_state?    | client state object                                      | The client's current cache state, used for reducing unneeded information transmission on re-identify                                                                                                                                                                            |

^1^ For user accounts, the `status` and `activities` specified may not always be respected. The field should only be used when re-identifying to communicate the last known presence of the user. Otherwise, the status should be `unknown` and activities an empty array.

^2^ Required for bots on API v8 and above.

###### Example Identify

```json
{
  "op": 2,
  "d": {
    "token": "my_token",
    "properties": {
      "os": "linux",
      "browser": "disco",
      "device": "disco"
    },
    "compress": false,
    "presence": {
      "activities": [],
      "status": "unknown",
      "since": 0,
      "afk": false
    },
    "capabilities": 16381,
    "client_state": {
      "api_code_version": 0,
      "guild_versions": {}
    }
  }
}
```

#### Resume

Used to replay missed events when a disconnected client resumes.

Details about resuming are in the [Gateway documentation](/topics/gateway#resuming).

###### Resume Structure

| Field      | Type    | Description                   |
| ---------- | ------- | ----------------------------- |
| token      | string  | Authentication token          |
| session_id | string  | Existing session ID           |
| seq        | integer | Last sequence number received |

###### Example Resume

```json
{
  "op": 6,
  "d": {
    "token": "randomstring",
    "session_id": "30f32c5d54ae86130fc4a215c7474263",
    "seq": 1337
  }
}
```

#### Heartbeat

Used to maintain an active Gateway connection. Must be sent every `heartbeat_interval` milliseconds after the [Opcode 10 Hello](#hello) payload is received. The inner `d` key is the last sequence number—`s`—received by the client. If you have not yet received one, send `null`. Fires a [Heartbeat ACK](#heartbeat-ack) Gateway event.

Details about heartbeats are in the [Gateway documentation](/topics/gateway#sending-heartbeats).

###### Example Heartbeat

```json
{
  "op": 1,
  "d": 251
}
```

#### Update Presence

Sent by the client to indicate a presence update.

<Alert type="warn">

Clients may only update their presence 5 times per 20 seconds.

</Alert>

<Alert type="warn">

All incoming Gateway events will be paused until the updated presence is propagated.

</Alert>

###### Update Presence Structure

| Field      | Type                                                          | Description                                                                                       |
| ---------- | ------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| activities | array[[activity](/resources/presence#activity-object) object] | The user's activities                                                                             |
| status     | string                                                        | the user's new [status](/resources/presence#status-type)                                          |
| since      | integer                                                       | Unix timestamp (in milliseconds) of when the client went idle, or 0 if it is not                  |
| afk        | boolean                                                       | Whether or not the client is AFK, used to determine whether to dispatch mobile push notifications |

###### Example Update Presence

```json
{
  "op": 3,
  "d": {
    "since": 0,
    "activities": [
      {
        "application_id": "383226320970055681",
        "assets": {
          "large_image": "565945350846939145",
          "large_text": "Editing a TEXT file",
          "small_image": "565945770067623946",
          "small_text": "Visual Studio Code"
        },
        "buttons": ["View Repository"],
        "created_at": "1695164784863",
        "details": "Editing index.astro",
        "flags": 0,
        "id": "d11307d8c0abb135",
        "name": "Visual Studio Code",
        "session_id": "30f32c5d54ae86130fc4a215c7474263",
        "state": "Workspace: vendicated.dev",
        "timestamps": {
          "start": "1695164482423"
        },
        "type": 0
      }
    ],
    "status": "online",
    "afk": false
  }
}
```

#### Update Voice State

Sent when a client wants to join, move, or disconnect from a voice channel. Fires a [Voice State Update](#voice-state-update) and optionally a [Voice Server Update](#voice-server-update) Gateway event.

###### Update Voice State Structure

| Field              | Type          | Description                                                                                 |
| ------------------ | ------------- | ------------------------------------------------------------------------------------------- |
| guild_id           | ?snowflake    | The ID of the guild the voice channel is in, if any                                         |
| channel_id         | ?snowflake    | The ID of the voice or private channel the client wants to join (`null` if disconnecting)   |
| self_mute          | boolean       | Whether the client is muted                                                                 |
| self_deaf          | boolean       | Whether the client is deafened                                                              |
| self_video?        | boolean       | Whether the client is streaming video to the channel                                        |
| preferred_region?  | string        | The preferred [voice region](/resources/voice#voice-region-object) ID for the voice channel |
| preferred_regions? | array[string] | The ranked [voice region](/resources/voice#voice-region-object) IDs for the voice channel   |
| flags?             | integer       | The client's [voice flags](/topics/voice-connections#voice-flags)                           |

###### Example Update Voice State

```json
{
  "op": 4,
  "d": {
    "guild_id": "41771983423143937",
    "channel_id": "127121515262115840",
    "self_mute": false,
    "self_deaf": false,
    "self_video": false,
    "preferred_region": "newark",
    "preferred_regions": ["newark", "us-central", "us-east", "atlanta", "us-south"],
    "flags": 3
  }
}
```

#### Ping Voice Server

Sent when a client wants to request that the Gateway pings a misbehaving voice server. This will force a check server-side and potentially reallocate the voice server. The inner `d` key should be set to `null`. May fire a [Voice Server Update](#voice-server-update) Gateway event.

###### Example Ping Voice Server

```json
{
  "op": 5,
  "d": null
}
```

#### Update Lobby Voice States

Sent by the client to update the user's voice state in multiple lobbies. Fires a [Lobby Voice State Update](#lobby-voice-state-update) and optionally [Lobby Voice Server Update](#lobby-voice-server-update) Gateway event.

The inner `d` key is an array of the following objects:

###### Update Lobby Voice State Structure

| Field              | Type          | Description                                                                         |
| ------------------ | ------------- | ----------------------------------------------------------------------------------- |
| lobby_id           | snowflake     | The ID of the lobby                                                                 |
| self_mute          | boolean       | Whether the client is muted                                                         |
| self_deaf          | boolean       | Whether the client is deafened                                                      |
| self_video?        | boolean       | Whether the client is streaming video to the channel                                |
| preferred_region?  | string        | The preferred [voice region](/resources/voice#voice-region-object) ID for the lobby |
| preferred_regions? | array[string] | The ranked [voice region](/resources/voice#voice-region-object) IDs for the lobby   |

#### Create Stream

Sent by the client to create a stream in a given voice channel. Requires the `STREAM` permission in the given channel. Fires a [Stream Create](#stream-create) and [Stream Server Update](#stream-server-update) Gateway event.

###### Create Stream Structure

| Field             | Type       | Description                                                                                 |
| ----------------- | ---------- | ------------------------------------------------------------------------------------------- |
| type              | string     | The [type of stream](#stream-type) to create                                                |
| guild_id?         | ?snowflake | The ID of the guild to stream in, if any                                                    |
| channel_id        | snowflake  | The ID of the voice channel to stream in                                                    |
| preferred_region? | string     | The preferred [voice region](/resources/voice#voice-region-object) ID for the voice channel |

###### Example Create Stream

```json
{
  "op": 18,
  "d": {
    "type": "call",
    "guild_id": null,
    "channel_id": "1142105002492575794",
    "preferred_region": "us-east"
  }
}
```

### Watch Stream

Sent by the client to start watching a user's stream. User must be connected to the associated voice channel. Fires either a [Stream Create](#stream-create) and [Stream Server Update](#stream-server-update) or a [Stream Delete](#stream-delete) Gateway event.

###### Watch Stream Structure

| Field      | Type   | Description                            |
| ---------- | ------ | -------------------------------------- |
| stream_key | string | The [stream key](#stream-key) to watch |

###### Example Watch Stream

```json
{
  "op": 20,
  "d": {
    "stream_key": "call:1110739331624210483:852892297661906993"
  }
}
```

#### Set Stream Paused

Sent by the client to pause or resume their stream. User must be the owner of the stream. Fires a [Stream Server Update](#stream-server-update) Gateway event.

###### Set Stream Paused Structure

| Field      | Type    | Description                                      |
| ---------- | ------- | ------------------------------------------------ |
| stream_key | string  | The [stream key](#stream-key) to pause or resume |
| paused     | boolean | Whether the stream should be paused or resumed   |

###### Example Set Stream Paused

```json
{
  "op": 22,
  "d": {
    "stream_key": "call:1110739331624210483:852892297661906993",
    "paused": true
  }
}
```

#### Delete Stream

Sent by the client to disconnect from a stream. If the client is the owner of the stream, the stream will be deleted. Fires a [Stream Delete](#stream-delete) Gateway event.

###### Delete Stream Structure

| Field      | Type   | Description                             |
| ---------- | ------ | --------------------------------------- |
| stream_key | string | The [stream key](#stream-key) to delete |

###### Example Delete Stream

```json
{
  "op": 19,
  "d": {
    "stream_key": "call:1110739331624210483:852892297661906993"
  }
}
```

#### Ping Stream Server

Sent when a client wants to request that the Gateway pings a misbehaving stream server. This will force a check server-side and potentially reallocate the stream server. May fire a [Stream Server Update](#stream-server-update) Gateway event.

###### Ping Stream Server Structure

| Field      | Type   | Description                           |
| ---------- | ------ | ------------------------------------- |
| stream_key | string | The [stream key](#stream-key) to ping |

###### Example Ping Stream Server

```json
{
  "op": 21,
  "d": {
    "stream_key": "call:1110739331624210483:852892297661906993"
  }
}
```

#### Request Guild Members

Used to request all members for a guild or a list of guilds. When initially connecting, if you don't have the `GUILD_PRESENCES` [Gateway intent](/topics/gateway#gateway-intents), or if the guild is over 75k members, it will only send members who are in voice, plus the member for you (the connecting user).
Otherwise, if a guild has over `large_threshold` members (value in the [Gateway Identify](#identify)), it will only send members who are online, have a role, have a nickname, or are in a voice channel, and if it has under `large_threshold` members, it will send all members.
If a client wishes to receive additional members, they need to explicitly request them via this operation. Fires multiple [Guild Members Chunk](#guild-members-chunk) events with up to 1000 members per chunk until all members that match the request have been sent.

Due to our privacy and infrastructural concerns with this feature, there are some limitations that apply:

- For bots, the `GUILD_PRESENCES` privileged intent is required to request presences
- For bots, the `GUILD_MEMBERS` privileged intent is required to request the entire member list (query of "" and limit of 0)
- For users, the `MANAGE_ROLES`, `KICK_MEMBERS`, or `BAN_MEMBERS` permissions are required to request the entire member list (query of "" and limit of 0)
- For bots, only one guild ID may be requested at a time
- Requesting a prefix (`query` parameter) will return a maximum of 100 members
- `user_ids` will be limited to 100 members

###### Request Guild Members Structure

| Field         | Type                             | Description                                                                                     |
| ------------- | -------------------------------- | ----------------------------------------------------------------------------------------------- |
| guild_id      | array[snowflake] \| snowflake    | ID(s) of the guild(s) to get members for                                                        |
| query? ^1^    | string                           | String that the username/nickname starts with, or an empty string to return all members         |
| limit? ^2^    | integer                          | Maximum number of members to send matching the `query` (0-100, must be 0 with an empty `query`) |
| presences?    | boolean                          | Whether the presence of matched members will be returned                                        |
| user_ids? ^1^ | snowflake or array of snowflakes | The user IDs to request (max 100)                                                               |
| nonce? ^3^    | string                           | Nonce to identify the [Guild Members Chunk](#guild-members-chunk) response                      |

^1^ One of `query` or `user_ids` is required.

^2^ Required when specifying `query`.

^3^ The nonce can only be up to 32 bytes. If you send an invalid nonce, it will be ignored, and the reply member chunk(s) will not have a nonce set.

###### Example Request Guild Members

```json
{
  "op": 8,
  "d": {
    "guild_id": ["41771983444115456"],
    "query": "",
    "limit": 0
  }
}
```

#### Request Call Connect

Used to request a private channel's pre-existing call data, created before the Gateway connection was established. Fires a [Call Create](#call-create) Gateway event if a call is found.

<Alert type="info">

When using the `AUTO_CALL_CONNECT` [Gateway capability](/topics/gateway#gateway-capabilities), it is no longer necessary to explicitly request a call connect. Instead, the client will automatically receive [Call Create](#call-create) events for pre-existing calls upon connecting to the Gateway.

</Alert>

###### Request Call Connect Structure

| Field      | Type      | Description                      |
| ---------- | --------- | -------------------------------- |
| channel_id | snowflake | ID of the DM or group DM channel |

###### Example Request Call Connect

```json
{
  "op": 13,
  "d": {
    "channel_id": "957057010334048288"
  }
}
```

#### Remote Command (Send)

Used to send a message to another Gateway session. Typically, this is used to control embedded sessions, such as an Xbox or PlayStation session. Fires a [Remote Command](<#remote-command-(receive)>) Gateway event on the target session.

###### Remote Command Structure

| Field             | Type   | Description                  |
| ----------------- | ------ | ---------------------------- |
| target_session_id | string | ID of the session to send to |
| payload ^1^       | any    | The payload to send          |

^1^ The sent payload is not standardized or validated by the server.

###### Example Remote Command

```json
{
  "op": 29,
  "d": {
    "target_session_id": "30f32c5d54ae86130fc4a215c7474263",
    "payload": {
      "type": "VOICE_STATE_UPDATE",
      "self_mute": false,
      "self_deaf": false
    }
  }
}
```

#### Request Soundboard Sounds

Used to request soundboard sounds for a list of guilds. Fires a [Soundboard Sounds](#soundboard-sounds) Gateway event for every guild in response.

###### Request Soundboard Sounds Structure

| Field     | Type             | Description                                        |
| --------- | ---------------- | -------------------------------------------------- |
| guild_ids | array[snowflake] | The IDs of the guilds to get soundboard sounds for |

###### Example Request Soundboard Sounds

```json
{
  "op": 31,
  "d": {
    "guild_ids": ["41771983444115456", "1015060230222131221", "811255666990907402"]
  }
}
```

#### Request Last Messages

Used to request the last messages (indicated by the [`last_message_id` field](/resources/channel#channel-object)) from channels. User must be a member of the guild. Fires a [Last Messages](#last-messages) Gateway event with up to 100 messages that match the request.

###### Request Last Messages Structure

| Field       | Type             | Description                                                    |
| ----------- | ---------------- | -------------------------------------------------------------- |
| guild_id    | snowflake        | The ID of the guild                                            |
| channel_ids | array[snowflake] | The IDs of the channels to request last messages for (max 100) |

###### Example Request Last Messages

```json
{
  "op": 34,
  "d": {
    "guild_id": "957057010334048288",
    "channel_ids": ["1145501524013895733", "1145501524013895734"]
  }
}
```

#### Search Recent Members

Used to search the 10,000 most recently joined members in a guild. User must be a member of the guild. Fires a [Guild Members Chunk](#guild-members-chunk) Gateway event with up to 1000 members that match the request.

###### Search Recent Members Structure

| Field                  | Type       | Description                                                                             |
| ---------------------- | ---------- | --------------------------------------------------------------------------------------- |
| guild_id               | snowflake  | The ID of the guild to search members for                                               |
| query ^1^              | string     | String that the username/nickname starts with, or an empty string to return all members |
| continuation_token ^2^ | ?snowflake | The member ID to continue pagination from                                               |
| nonce? ^3^             | string     | Nonce to identify the [Guild Members Chunk](#guild-members-chunk) response              |

^1^ When a query is provided, results are limited to one member.

^2^ Pagination is based on the [`joined_at`](/resources/guild#guild-member-object) field descending. To paginate, you provide the member ID of the member that joined the earliest in the previously received [Guild Members Chunk](#guild-members-chunk). You can only paginate up to 10,000 members back from the most recently joined member.

^3^ The nonce can only be up to 32 bytes. If you send an invalid nonce, it will be ignored, and the reply member chunk will not have a nonce set.

###### Example Search Recent Members

```json
{
  "op": 35,
  "d": {
    "guild_id": "957057010334048288",
    "query": "",
    "continuation_token": null
  }
}
```

#### Request Channel Statuses

Used to request the voice channel statuses for a guild. Fires a [Channel Statuses](#channel-statuses) Gateway event with the requested statuses.

###### Request Channel Statuses Structure

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |

###### Example Request Channel Statuses

```json
{
  "op": 36,
  "d": {
    "guild_id": "957057010334048288"
  }
}
```

#### Request Channel Member Count

Used to request the number of members that can view a guild channel, as well as how many are online at the given time. Requires the `VIEW_CHANNEL` permission in the given channel. Fires a [Channel Member Count Update](#channel-member-count-update) Gateway event with the requested count.

###### Request Channel Member Count Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| guild_id   | snowflake | The ID of the guild   |
| channel_id | snowflake | The ID of the channel |

###### Example Request Channel Member Count

```json
{
  "op": 39,
  "d": {
    "guild_id": "957057010334048288",
    "channel_id": "1145501524013895733"
  }
}
```

## Receive Events

Received events are Gateway events encapsulated in an [event payload](#gateway-payload-structure), and are sent by Discord to a client through a Gateway connection. Most received events correspond to dispatch events that happen relevant to the current user and the guilds it is a member of.

| Name                                | Description                                                                                                   |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| [Hello](#hello)                     | Defines the heartbeat interval                                                                                |
| [Heartbeat ACK](#heartbeat-ack)     | Acknowledges a received client heartbeat                                                                      |
| [Reconnect](#reconnect)             | Indicates the server is going away, client should reconnect to Gateway and [resume](/topics/gateway#resuming) |
| [Invalid Session](#invalid-session) | Failure response to [Identify](#identify) or [Resume](#resume), or indicates an invalid active session        |
| [Dispatch](#dispatch-events)        | Dispatches an event to the client                                                                             |

#### Hello

Sent on connection to the WebSocket. Defines the heartbeat interval that the client should heartbeat to.

###### Hello Structure

| Field              | Type          | Description                                                                               |
| ------------------ | ------------- | ----------------------------------------------------------------------------------------- |
| \_trace            | array[string] | An array of stringified JSON values representing the connection trace, used for debugging |
| heartbeat_interval | integer       | The interval (in milliseconds) the client should heartbeat at                             |

###### Example Hello

```json
{
  "op": 10,
  "d": {
    "heartbeat_interval": 41250,
    "_trace": ["[\"gateway-prd-us-east1-c-6w69\",{\"micros\":0.0}]"]
  },
  "s": null,
  "t": null
}
```

#### Heartbeat ACK

Sent in response to receiving a heartbeat to acknowledge that it has been received.

Details about heartbeats are in the [Gateway documentation](/topics/gateway#sending-heartbeats).

###### Example Heartbeat ACK

```json
{
  "op": 11,
  "d": null,
  "s": null,
  "t": null
}
```

#### Reconnect

The reconnect event is dispatched when a client should reconnect to the Gateway (and resume their existing session, if they have one). This event usually occurs during deploys to migrate sessions gracefully off old hosts.

###### Example Reconnect

```json
{
  "op": 7,
  "d": null,
  "s": null,
  "t": null
}
```

#### Invalid Session

Sent to indicate one of at least three different situations:

- The Gateway could not initialize a session after receiving an [Opcode 2 Identify](#identify)
- The Gateway could not resume a previous session after receiving an [Opcode 6 Resume](#resume)
- The Gateway has invalidated an active session and is requesting client action

The inner `d` key is a boolean that indicates whether the session may be resumable. See [Connecting](/topics/gateway#connecting) and [Resuming](/topics/gateway#resuming) for more information.

<Alert type="info">

Note that unless the Gateway closes the connection, this event does not signify that the client needs to start a new WebSocket conneciton.
The client can continue using the existing connection when following the [Connecting](/topics/gateway#connecting) or [Resuming](/topics/gateway#resuming) flow.

</Alert>

###### Example Invalid Session

```json
{
  "op": 9,
  "d": false,
  "s": null,
  "t": null
}
```

## Dispatch Events

These events directly correspond with a specific action or state change that has occurred in the platform.

| Name                                                                                | Description                                                                                     |
| ----------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| [Ready](#ready)                                                                     | Initial state information                                                                       |
| [Ready Supplemental](#ready-supplemental)                                           | Supplemental information for the initial state, not critical to beginning use of the platform   |
| [Resumed](#resumed)                                                                 | Acknowledges a successful [Resume](#resume)                                                     |
| [Remote Command](<#remote-command-(receive)>)                                       | Received a message from another Gateway session                                                 |
| [Auth Session Change](#auth-session-change)                                         | Current session's associated auth session ID changed                                            |
| [Authenticator Create](#authenticator-create)                                       | WebAuthn authenticator was created                                                              |
| [Authenticator Update](#authenticator-update)                                       | WebAuthn authenticator was updated                                                              |
| [Authenticator Delete](#authenticator-delete)                                       | WebAuthn authenticator was deleted                                                              |
| [Application Command Permissions Update](#application-command-permissions-update)   | Application command permission was updated                                                      |
| [Auto Moderation Rule Create](#auto-moderation-rule-create)                         | AutoMod rule was created                                                                        |
| [Auto Moderation Rule Update](#auto-moderation-rule-update)                         | AutoMod rule was updated                                                                        |
| [Auto Moderation Rule Delete](#auto-moderation-rule-delete)                         | AutoMod rule was deleted                                                                        |
| [Auto Moderation Action Execution](#auto-moderation-action-execution)               | AutoMod rule was triggered and an action was executed (e.g. a message was blocked)              |
| [Auto Moderation Mention Raid Detection](#auto-moderation-mention-raid-detection)   | AutoMod mention raid incident was detected                                                      |
| [Call Create](#call-create)                                                         | Private channel call was created                                                                |
| [Call Update](#call-update)                                                         | Private channel call was updated                                                                |
| [Call Delete](#call-delete)                                                         | Private channel call was deleted                                                                |
| [Channel Create](#channel-create)                                                   | New guild channel created                                                                       |
| [Channel Update](#channel-update)                                                   | Channel was updated                                                                             |
| [Channel Delete](#channel-delete)                                                   | Channel was deleted                                                                             |
| [Channel Statuses](#channel-statuses)                                               | Response to [Request Channel Statuses](#request-channel-statuses)                               |
| [Voice Channel Status Update](#voice-channel-status-update)                         | Voice channel status was updated                                                                |
| [Channel Member Count Update](#channel-member-count-update)                         | Response to [Request Channel Member Count](#request-channel-member-count)                       |
| [Channel Pins Update](#channel-pins-update)                                         | Message was pinned or unpinned                                                                  |
| [Channel Recipient Add](#channel-recipient-add)                                     | User joined a group DM channel                                                                  |
| [Channel Recipient Remove](#channel-recipient-remove)                               | User was removed from a group DM channel                                                        |
| [Console Command Update](#console-command-update)                                   | Console command was updated                                                                     |
| [Conversation Summary Update](#conversation-summary-update)                         | Conversation summaries were updated for a text channel                                          |
| [DM Settings Upsell Show](#dm-settings-upsell-show)                                 | DM privacy settings upsell modal was triggered                                                  |
| [Thread Create](#thread-create)                                                     | Thread was created, also sent when being added to a private thread                              |
| [Thread Update](#thread-update)                                                     | Thread was updated                                                                              |
| [Thread Delete](#thread-delete)                                                     | Thread was deleted                                                                              |
| [Thread List Sync](#thread-list-sync)                                               | Sent when gaining access to a channel, contains all active threads in that channel              |
| [Thread Member Update](#thread-member-update)                                       | [Thread member](/resources/channel#thread-member-object) for the current user was updated       |
| [Thread Members Update](#thread-members-update)                                     | User(s) were added to or removed from a thread                                                  |
| [Friend Suggestion Create](#friend-suggestion-create)                               | Friend suggestion was created                                                                   |
| [Friend Suggestion Delete](#friend-suggestion-delete)                               | Friend suggestion was deleted                                                                   |
| [Guild Create](#guild-create)                                                       | Guild became available or user joined a new guild                                               |
| [Guild Update](#guild-update)                                                       | Guild was updated                                                                               |
| [Guild Delete](#guild-delete)                                                       | Guild became unavailable, or user left/was removed from a guild                                 |
| [Guild Applied Boosts Update](#guild-applied-boosts-update)                         | Premium guild subscription was created or updated                                               |
| [Guild Audit Log Entry Create](#guild-audit-log-entry-create)                       | Guild audit log entry was created                                                               |
| [Guild Ban Add](#guild-ban-add)                                                     | User was banned from a guild                                                                    |
| [Guild Ban Remove](#guild-ban-remove)                                               | User was unbanned from a guild                                                                  |
| [Guild Directory Entry Create](#guild-directory-entry-create)                       | Guild directory entry was created                                                               |
| [Guild Directory Entry Update](#guild-directory-entry-update)                       | Guild directory entry was updated                                                               |
| [Guild Directory Entry Delete](#guild-directory-entry-delete)                       | Guild directory entry was deleted                                                               |
| [Guild Emojis Update](#guild-emojis-update)                                         | Guild emoji were updated                                                                        |
| [Guild Stickers Update](#guild-stickers-update)                                     | Guild stickers were updated                                                                     |
| [Guild Join Request Create](#guild-join-request-create)                             | Guild join request was created                                                                  |
| [Guild Join Request Update](#guild-join-request-update)                             | Guild join request was updated                                                                  |
| [Guild Join Request Delete](#guild-join-request-delete)                             | Guild join request was deleted                                                                  |
| [Guild Member Add](#guild-member-add)                                               | User joined a guild                                                                             |
| [Guild Member Update](#guild-member-update)                                         | Guild member was updated                                                                        |
| [Guild Member Remove](#guild-member-remove)                                         | User was removed from a guild                                                                   |
| [Guild Members Chunk](#guild-members-chunk)                                         | Response to [Request Guild Members](#request-guild-members)                                     |
| [Guild Role Create](#guild-role-create)                                             | Guild role was created                                                                          |
| [Guild Role Update](#guild-role-update)                                             | Guild role was updated                                                                          |
| [Guild Role Delete](#guild-role-delete)                                             | Guild role was deleted                                                                          |
| [Guild Scheduled Event Create](#guild-scheduled-event-create)                       | Guild scheduled event was created                                                               |
| [Guild Scheduled Event Update](#guild-scheduled-event-update)                       | Guild scheduled event was updated                                                               |
| [Guild Scheduled Event Delete](#guild-scheduled-event-delete)                       | Guild scheduled event was deleted                                                               |
| [Guild Scheduled Event Exception Create](#guild-scheduled-event-exception-create)   | Guild scheduled event exception was created                                                     |
| [Guild Scheduled Event Exception Update](#guild-scheduled-event-exception-update)   | Guild scheduled event exception was updated                                                     |
| [Guild Scheduled Event Exception Delete](#guild-scheduled-event-exception-delete)   | Guild scheduled event exception was deleted                                                     |
| [Guild Scheduled Event Exceptions Delete](#guild-scheduled-event-exceptions-delete) | All guild scheduled event exceptions were deleted                                               |
| [Guild Scheduled Event User Add](#guild-scheduled-event-user-add)                   | User subscribed to a guild scheduled event or exception                                         |
| [Guild Scheduled Event User Remove](#guild-scheduled-event-user-remove)             | User unsubscribed from a guild scheduled event or exception                                     |
| [Guild Soundboard Sound Create](#guild-soundboard-sound-create)                     | Guild soundboard sound was created                                                              |
| [Guild Soundboard Sound Update](#guild-soundboard-sound-update)                     | Guild soundboard sound was updated                                                              |
| [Guild Soundboard Sound Delete](#guild-soundboard-sound-delete)                     | Guild soundboard sound was deleted                                                              |
| [Soundboard Sounds](#soundboard-sounds)                                             | Response to [Request Soundboard Sounds](#request-soundboard-sounds)                             |
| [Guild Integrations Update](#guild-integrations-update)                             | Guild integration was updated                                                                   |
| [Integration Create](#integration-create)                                           | Guild integration was created                                                                   |
| [Integration Update](#integration-update)                                           | Guild integration was updated                                                                   |
| [Integration Delete](#integration-delete)                                           | Guild integration was deleted                                                                   |
| [Interaction Create](#interaction-create)                                           | User used an interaction, such as an [Application Command](/interactions/application-commands/) |
| [Invite Create](#invite-create)                                                     | Guild invite to a channel was created                                                           |
| [Invite Delete](#invite-delete)                                                     | Guild invite to a channel was deleted                                                           |
| [Message Create](#message-create)                                                   | Message was created                                                                             |
| [Message Update](#message-update)                                                   | Message was edited                                                                              |
| [Message Delete](#message-delete)                                                   | Message was deleted                                                                             |
| [Message Delete Bulk](#message-delete-bulk)                                         | Multiple messages were deleted at once                                                          |
| [Message Poll Vote Add](#message-poll-vote-add)                                     | User voted on a poll                                                                            |
| [Message Poll Vote Remove](#message-poll-vote-remove)                               | User removed a vote on a poll                                                                   |
| [Message Reaction Add](#message-reaction-add)                                       | User reacted to a message                                                                       |
| [Message Reaction Add Many](#message-reaction-add-many)                             | Many users reacted to a message                                                                 |
| [Message Reaction Remove](#message-reaction-remove)                                 | User removed a reaction from a message                                                          |
| [Message Reaction Remove All](#message-reaction-remove-all)                         | All reactions were explicitly removed from a message                                            |
| [Message Reaction Remove Emoji](#message-reaction-remove-emoji)                     | All reactions for a given emoji were explicitly removed from a message                          |
| [Recent Mention Delete](#recent-mention-delete)                                     | Recent message that mentioned the current user was acknowledged                                 |
| [Last Messages](#last-messages)                                                     | Response to [Request Last Messages](#request-last-messages)                                     |
| [Notification Settings Update](#notification-settings-update)                       | User notification settings were updated                                                         |
| [OAuth2 Token Revoke](#oauth2-token-revoke)                                         | OAuth2 application was deauthorized                                                             |
| [Presence Update](#presence-update)                                                 | User presence was updated                                                                       |
| [Quests User Status Update](#quests-user-status-update)                             | User status in a quest was updated                                                              |
| [Quests User Completion Update](#quests-user-completion-update)                     | User quest completion eligibility was updated                                                   |
| [Relationship Add](#relationship-add)                                               | User had a relationship added                                                                   |
| [Relationship Update](#relationship-update)                                         | User had a relationship updated                                                                 |
| [Relationship Remove](#relationship-remove)                                         | User had a relationship removed                                                                 |
| [Game Relationship Add](#game-relationship-add)                                     | User had a game relationship added                                                              |
| [Game Relationship Remove](#game-relationship-remove)                               | User had a game relationship removed                                                            |
| [Lobby Create](#lobby-create)                                                       | Lobby was created                                                                               |
| [Lobby Update](#lobby-update)                                                       | Lobby was updated                                                                               |
| [Lobby Delete](#lobby-delete)                                                       | Lobby was deleted                                                                               |
| [Lobby Member Add](#lobby-member-add)                                               | User was added to a lobby                                                                       |
| [Lobby Member Update](#lobby-member-update)                                         | Lobby member was updated                                                                        |
| [Lobby Member Remove](#lobby-member-remove)                                         | User was removed from a lobby                                                                   |
| [Lobby Message Create](#lobby-message-create)                                       | Message was created in a lobby                                                                  |
| [Lobby Message Update](#lobby-message-update)                                       | Message was updated in a lobby                                                                  |
| [Lobby Message Delete](#lobby-message-delete)                                       | Message was deleted in a lobby                                                                  |
| [Lobby Voice State Update](#lobby-voice-state-update)                               | User joined, left, or moved lobbies                                                             |
| [Lobby Voice Server Update](#lobby-voice-server-update)                             | Lobby voice connection server was updated                                                       |
| [Saved Message Create](#saved-message-create)                                       | Message was bookmarked                                                                          |
| [Saved Message Delete](#saved-message-delete)                                       | Bookmarked message was deleted                                                                  |
| [Sessions Replace](#sessions-replace)                                               | User session list was updated                                                                   |
| [Stage Instance Create](#stage-instance-create)                                     | Stage instance was created                                                                      |
| [Stage Instance Update](#stage-instance-update)                                     | Stage instance was updated                                                                      |
| [Stage Instance Delete](#stage-instance-delete)                                     | Stage instance was deleted or closed                                                            |
| [Stream Create](#stream-create)                                                     | Stream was created                                                                              |
| [Stream Server Update](#stream-server-update)                                       | Stream server was updated                                                                       |
| [Stream Update](#stream-update)                                                     | Stream was updated                                                                              |
| [Stream Delete](#stream-delete)                                                     | Stream was deleted                                                                              |
| [Typing Start](#typing-start)                                                       | User started typing in a channel                                                                |
| [User Update](#user-update)                                                         | Current user changed                                                                            |
| [User Application Update](#user-application-update)                                 | User installed an application or application was updated                                        |
| [User Application Remove](#user-application-remove)                                 | User uninstalled an application                                                                 |
| [User Connections Update](#user-connections-update)                                 | User connection was created, updated, or deleted                                                |
| [User Merge Operation Completed](#user-merge-operation-completed)                   | User has been merged with a provisional account                                                 |
| [User Note Update](#user-note-update)                                               | User note was updated                                                                           |
| [User Required Action Update](#user-required-action-update)                         | User's required action was updated                                                              |
| [User Guild Settings Update](#user-guild-settings-update)                           | User guild settings were updated                                                                |
| [User Settings Update](#user-settings-update)                                       | User settings were updated                                                                      |
| [Voice State Update](#voice-state-update)                                           | User joined, left, or moved a voice channel                                                     |
| [Voice Server Update](#voice-server-update)                                         | Voice connection server was updated                                                             |
| [Voice Channel Effect Send](#voice-channel-effect-send)                             | User sent an effect in a voice channel the current user is connected to                         |
| [Webhooks Update](#webhooks-update)                                                 | Channel webhook was created, update, or deleted                                                 |

#### Ready

Sent when a client has completed the initial handshake with the Gateway (for new sessions). The Ready event is the largest and most complex event the Gateway will send, as it contains all the state required for a client to begin interacting with the rest of the platform.

###### Ready Structure

| Field                                  | Type                                                                                                                       | Description                                                                                                                                                                                                                                                            |
| -------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \_trace                                | array[string]                                                                                                              | An array of stringified JSON values representing the connection trace, used for debugging                                                                                                                                                                              |
| v                                      | integer                                                                                                                    | [API version](/reference#api-versions)                                                                                                                                                                                                                                 |
| user                                   | [user](/resources/user#user-object) object                                                                                 | The connected user                                                                                                                                                                                                                                                     |
| user_settings ^1^ ^4^ **(deprecated)** | [user settings](/resources/user-settings#user-settings-object) object                                                      | The client settings for the user                                                                                                                                                                                                                                       |
| user_settings_proto? ^1^               | string                                                                                                                     | The base 64-encoded serialized [preloaded user settings](/resources/user-settings-proto#preloaded-user-settings-object) protobuf for the user, (if missing, defaults should be used)                                                                                   |
| notification_settings ^1^              | [notification settings](/resources/user-settings#notification-settings-object) object                                      | The notification settings for the user                                                                                                                                                                                                                                 |
| user_guild_settings ^1^ ^9^            | [versioned array](#versioned-structure)[[user guild settings](/resources/user-settings#user-guild-settings-object) object] | The user settings for each guild                                                                                                                                                                                                                                       |
| guilds ^2^ ^6^                         | array[[gateway guild](#gateway-guild-object) object]                                                                       | The guilds the user is in                                                                                                                                                                                                                                              |
| guild_join_requests ^1^                | array[partial [guild join request](/resources/guild#guild-join-request-object)]                                            | Active guild join requests the user has                                                                                                                                                                                                                                |
| relationships ^1^                      | array[[relationship](/resources/relationships#relationship-object)]                                                        | The relationships the user has with other users                                                                                                                                                                                                                        |
| game_relationships ^1^                 | array[[game relationship](/resources/relationships#game-relationship-object)]                                              | The game relationships the user has with other users                                                                                                                                                                                                                   |
| friend_suggestion_count? ^1^           | integer                                                                                                                    | The number of friend suggestions the user has                                                                                                                                                                                                                          |
| private_channels ^1^                   | array[[channel](/resources/channel#channel-object) object]                                                                 | The DMs and group DMs the user is participating in                                                                                                                                                                                                                     |
| connected_accounts                     | array[[connection](/resources/connected-accounts#connection-object)]                                                       | The third-party accounts the user has linked                                                                                                                                                                                                                           |
| notes ^1^ ^5^                          | map[snowflake, string]                                                                                                     | A mapping of user IDs to notes the user has made for them                                                                                                                                                                                                              |
| presences ^6^                          | array[[presence](/resources/presence#presence-object) object]                                                              | The presences of the user's non-offline [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the `NO_AFFINE_USER_IDS` [Gateway capability](/topics/gateway#gateway-capabilities)).                                         |
| merged_presences ^6^                   | [merged presences](#merged-presences-structure) object                                                                     | The presences of the user's non-offline [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the `NO_AFFINE_USER_IDS` [Gateway capability](/topics/gateway#gateway-capabilities)), and any guild presences sent at startup |
| merged_members ^6^ ^7^                 | array[array[[guild member](/resources/guild#guild-member-object) object]]                                                  | The members of the user's guilds, in the same order as the `guilds` array                                                                                                                                                                                              |
| users ^6^                              | array[partial [user](/resources/user#user-object) object]                                                                  | The deduped users across all objects in the event                                                                                                                                                                                                                      |
| application?                           | [gateway application](#gateway-application-structure) object                                                               | The application of the connected user, if it is a bot                                                                                                                                                                                                                  |
| session_id                             | string                                                                                                                     | Unique session ID, used for resuming connections                                                                                                                                                                                                                       |
| session_type                           | string                                                                                                                     | The [type of session](#session-type) that was started                                                                                                                                                                                                                  |
| sessions ^1^                           | array[[session](/resources/presence#session-object) object]                                                                | The sessions that are currently active for the user                                                                                                                                                                                                                    |
| static_client_session_id               | string                                                                                                                     | A unique identifier for the client session, used for persistent DAVE public keys                                                                                                                                                                                       |
| auth_session_id_hash ^1^               | string                                                                                                                     | The hash of the auth session ID corresponding to the auth token used to connect                                                                                                                                                                                        |
| auth_token? ^1^ ^3^                    | string                                                                                                                     | The refreshed auth token for this user; if present, the client should discard the current auth token and use this in subsequent requests to the API                                                                                                                    |
| analytics_token ^1^                    | string                                                                                                                     | The token used for analytical tracking requests                                                                                                                                                                                                                        |
| authenticator_types                    | array[integer]                                                                                                             | The [types of multi-factor authenticators](/resources/user#authenticator-type) the user has enabled                                                                                                                                                                    |
| required_action? ^1^                   | string                                                                                                                     | The [action a user is required to take](/resources/user#required-action-type) before continuing to use Discord                                                                                                                                                         |
| country_code ^1^                       | string                                                                                                                     | The detected [ISO 3166-1 alpha-2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) of the user's current IP address                                                                                                                                      |
| geo_ordered_rtc_regions                | array[string]                                                                                                              | A geo-ordered list of [RTC regions](/resources/voice#voice-region-object) that can be used when when setting a voice channel's [`rtc_region`](/resources/channel#channel-object) or [updating the client's voice state](#update-voice-state)                           |
| consents ^1^                           | [consents](/resources/user-settings#consents-object)                                                                       | The tracking features the user has consented to                                                                                                                                                                                                                        |
| tutorial ^1^ ^8^                       | ?[tutorial](#tutorial-structure) object                                                                                    | The tutorial state of the user, if any                                                                                                                                                                                                                                 |
| shard?                                 | array[integer, integer]                                                                                                    | The [shard information](/topics/gateway#sharding) (shard_id, num_shards) associated with this session, if sharded                                                                                                                                                      |
| resume_gateway_url                     | string                                                                                                                     | WebSocket URL for resuming connections                                                                                                                                                                                                                                 |
| api_code_version ^1^                   | integer                                                                                                                    | The API code version, used when re-identifying with client state v2                                                                                                                                                                                                    |
| experiments ^1^                        | array[[user experiment](/topics/experiments#user-experiments) object]                                                      | User experiment rollouts for the user                                                                                                                                                                                                                                  |
| guild_experiments ^1^                  | array[[guild experiment](/topics/experiments#guild-experiments) object]                                                    | Guild experiment rollouts for the user                                                                                                                                                                                                                                 |
| explicit_content_scan_version          | integer                                                                                                                    | The latest version of the explicit content scan filter feature                                                                                                                                                                                                         |
| lobbies? ^10^ ^11^                     | array[[lobby](/resources/lobby#lobby-object) object]                                                                       | The lobbies the connected user is in                                                                                                                                                                                                                                   |

^1^ Feature is not available to or not tracked for bots. This field may be empty, omitted, or `null`.

^2^ For bots, guilds start out as unavailable when they connect to the Gateway. As they become available, the bot will be notified via [Guild Create](#guild-create) events.

^3^ Requires the `AUTH_TOKEN_REFRESH` [Gateway capability](/topics/gateway#gateway-capabilities).

^4^ Omitted when using the `USER_SETTINGS_PROTO` [Gateway capability](/topics/gateway#gateway-capabilities).

^5^ Omitted when using the `LAZY_USER_NOTES` [Gateway capability](/topics/gateway#gateway-capabilities).

^6^ When using the `DEDUPE_USER_OBJECTS` [Gateway capability](/topics/gateway#gateway-capabilities), `presences`, as well as each guild's `presences` array, is replaced by `merged_presences`. In addition, each guild's `members` array will be collapsed into `merged_members`. Finally, the `users` array will contain the user objects for every user in the event. Any user object in the event will be omitted, with an ID left in its place (e.g. `user_id` in [member](/resources/guild#guild-member-object) objects, `recipient_ids` in [private channel](/resources/channel#channel-object) objects, etc.).

^7^ When using the `PRIORITIZED_READY_PAYLOAD` [Gateway capability](/topics/gateway#gateway-capabilities), `merged_members` in Ready will only include the client's [member](/resources/guild#guild-member-object) object for each guild. The rest will be sent in the [Ready Supplemental](#ready-supplemental) event. See the [gateway guild](#gateway-guild-object) object documentation for more information about included data.

^8^ The tutorial state is cleared after a period of inactivity. A `null` tutorial means no indicators will be shown.

^9^ The field will be a [versioned array](#versioned-structure) if the `VERSIONED_USER_GUILD_SETTINGS` [Gateway capability](/topics/gateway#gateway-capabilities) is enabled. Otherwise, it will be a regular array.

^10^ Only available in OAuth2 contexts.

^11^ Requires the `AUTO_LOBBY_CONNECT` [Gateway capability](/topics/gateway#gateway-capabilities).

###### Session Type

| Value  | Description             |
| ------ | ----------------------- |
| normal | A normal client session |

###### Merged Presences Structure

| Field      | Type                                                                 | Description                                                                                                                                                                                                   |
| ---------- | -------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| friends    | array[[presence](/resources/presence#presence-object) object]        | Presences of the user's [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the [`NO_AFFINE_USER_IDS` Gateway capability](/topics/gateway#gateway-capabilities)) |
| guilds ^1^ | array[array[[presence](/resources/presence#presence-object) object]] | Presences of the user's guilds, in the same order as [the `guilds` array in Ready](#ready)                                                                                                                    |

^1^ See the [gateway guild](#gateway-guild-object) object documentation for more information about included data.

###### Tutorial Structure

| Field                 | Type          | Description                                                |
| --------------------- | ------------- | ---------------------------------------------------------- |
| indicators_suppressed | boolean       | Whether the user has suppressed all tutorial indicators    |
| indicators_confirmed  | array[string] | An array of the tutorial indicators the user has confirmed |

###### Gateway Application Structure

| Field | Type      | Description                                                         |
| ----- | --------- | ------------------------------------------------------------------- |
| id    | snowflake | The ID of the application                                           |
| flags | integer   | The [application's flags](/resources/application#application-flags) |

###### Versioned Structure

A generic object used to represent versioned data. Depends on specific capabilities to enable versioning for certain fields in the [Ready](#ready) event.

| Field   | Type          | Description                            |
| ------- | ------------- | -------------------------------------- |
| entries | array[object] | The entries                            |
| partial | boolean       | Whether the `entries` field is partial |
| version | integer       | The version of the object              |

#### Ready Supplemental

Sent soon after [Ready](#ready), with additional data that is not critical to begin interacting with the platform.

If this event is enabled, any fields received in it that are also present in [Ready](#ready) will not be received in [Ready](#ready) (unless otherwise specified).

<Alert type="info">

This event requires the `PRIORITIZED_READY_PAYLOAD` [Gateway capability](/topics/gateway#gateway-capabilities).

</Alert>

###### Ready Supplemental Structure

| Field                 | Type                                                                | Description                                                                                                                                                                                                                                                            |
| --------------------- | ------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| guilds                | array[[supplemental guild](#supplemental-guild-structure) object]   | The guilds the user is in                                                                                                                                                                                                                                              |
| merged_members ^1^    | array[array[[member](/resources/guild#guild-member-object) object]] | The members of the user's guilds, in the same order as the `guilds` array                                                                                                                                                                                              |
| merged_presences ^1^  | [merged presences](#merged-presences-structure) object              | The presences of the user's non-offline [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the [`NO_AFFINE_USER_IDS` Gateway capability](/topics/gateway#gateway-capabilities)), and any guild presences sent at startup |
| lazy_private_channels | array[[channel](/resources/channel#channel-object) object]          | Additional DMs and group DMs the user is participating in, omitted from [Ready](#ready) because they were already in client state cache                                                                                                                                |
| disclose              | array[string]                                                       | Upcoming changes that the client should disclose to the user                                                                                                                                                                                                           |

^1^ See the [gateway guild](#gateway-guild-object) object documentation for more information about included data.

###### Supplemental Guild Structure

<Alert type="warn">

Unavailable guilds will only include the `id` field.

</Alert>

| Field        | Type                                                             | Description                                   |
| ------------ | ---------------------------------------------------------------- | --------------------------------------------- |
| id           | snowflake                                                        | The ID of the guild                           |
| voice_states | array[[voice state](/resources/voice#voice-state-object) object] | States of members currently in voice channels |

#### Resumed

Sent when a client has sent a [resume payload](#resume) to the Gateway (for resuming existing sessions). Signifies the end of event replaying.

###### Resumed Structure

| Field   | Type          | Description                                                                               |
| ------- | ------------- | ----------------------------------------------------------------------------------------- |
| \_trace | array[string] | An array of stringified JSON values representing the connection trace, used for debugging |

###### Example Resumed

```json
{
  "_trace": [
    "[\"gateway-prd-us-east1-c-6w69\",{\"micros\":4493,\"calls\":[\"id_created\",{\"micros\":0,\"calls\":[]},\"session_lookup_time\",{\"micros\":4163,\"calls\":[]},\"session_lookup_finished\",{\"micros\":17,\"calls\":[]},\"discord-sessions-prd-2-31\",{\"micros\":66}]}]"
  ]
}
```

#### Remote Command (Receive)

Sent when a message is received from another Gateway session. The inner payload is the [sent message](<#remote-command-(send)>).

### Authentication

#### Auth Session Change

Sent when the current session's associated auth session ID changes.

###### Auth Session Change Structure

| Field                | Type   | Description                                                                     |
| -------------------- | ------ | ------------------------------------------------------------------------------- |
| auth_session_id_hash | string | The hash of the auth session ID corresponding to the auth token used to connect |

#### Authenticator Create

Sent when a WebAuthn authenticator is created. The inner payload is an [authenticator](/resources/user#authenticator-object) object.

#### Authenticator Update

Sent when a WebAuthn authenticator is updated. The inner payload is an [authenticator](/resources/user#authenticator-object) object.

#### Authenticator Delete

Sent when a WebAuthn authenticator is deleted.

###### Authenticator Delete Structure

| Field | Type   | Description                                                     |
| ----- | ------ | --------------------------------------------------------------- |
| id    | string | The ID of the authenticator                                     |
| type  | string | The [type of authenticator](/resources/user#authenticator-type) |

### Application Commands

#### Application Command Permissions Update

Sent when an application command's permissions are updated. The inner payload is an [application command permissions](/interactions/application-commands#guild-application-command-permissions-structure) object.

### Auto Moderation

#### Auto Moderation Rule Create

Sent when a rule is created. The inner payload is an [automod rule](/resources/auto-moderation#automod-rule-object) object. Requires the `MANAGE_GUILD` permission.

<Alert type="warn">

This event is not received by user accounts.

</Alert>

#### Auto Moderation Rule Update

Sent when a rule is updated. The inner payload is an [automod rule](/resources/auto-moderation#automod-rule-object) object. Requires the `MANAGE_GUILD` permission.

<Alert type="warn">

This event is not received by user accounts.

</Alert>

#### Auto Moderation Rule Delete

Sent when a rule is deleted. The inner payload is an [automod rule](/resources/auto-moderation#automod-rule-object) object. Requires the `MANAGE_GUILD` permission.

<Alert type="warn">

This event is not received by user accounts.

</Alert>

#### Auto Moderation Action Execution

Sent when a rule is triggered and an action is executed (e.g. message is blocked). Requires the `MANAGE_GUILD` permission.

<Alert type="warn">

This event is not received by user accounts.

</Alert>

###### Auto Moderation Action Execution Structure

| Field                    | Type                                                                      | Description                                                            |
| ------------------------ | ------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| guild_id                 | snowflake                                                                 | The ID of the guild where the action was executed                      |
| action                   | [automod action](/resources/auto-moderation#automod-action-object) object | The action that was executed                                           |
| rule_id                  | snowflake                                                                 | The ID of the rule that was triggered                                  |
| rule_trigger_type        | integer                                                                   | The trigger type of the rule that was triggered                        |
| user_id                  | snowflake                                                                 | The ID of the user which generated the content that triggered the rule |
| channel_id?              | snowflake                                                                 | The ID of the channel in which the user content was posted             |
| message_id?              | snowflake                                                                 | The ID of the message that triggered the rule                          |
| alert_system_message_id? | snowflake                                                                 | The ID of the AutoMod system message posted as a result of this action |
| content                  | string                                                                    | The user message content                                               |
| matched_keyword          | ?string                                                                   | The word or phrase configured that triggered the rule                  |
| matched_content          | ?string                                                                   | The substring in content that triggered the rule                       |

#### Auto Moderation Mention Raid Detection

Sent when a mention raid is detected. Requires the `MANAGE_GUILD` permission.

###### Auto Moderation Mention Raid Detection Structure

| Field                             | Type              | Description                                             |
| --------------------------------- | ----------------- | ------------------------------------------------------- |
| guild_id                          | snowflake         | The ID of the guild where the mention raid was detected |
| decision_id                       | string            | The ID of the decision that was executed                |
| suspicious_mention_activity_until | ISO8601 timestamp | When the mention activity restrictions will end         |

### Calls

#### Call Create

Sent when a user creates a call in a private channel, or to inform the client of an existing call after a [Request Call Connect](#request-call-connect).

###### Call Create Structure

| Field        | Type                                                             | Description                                                                         |
| ------------ | ---------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| channel_id   | snowflake                                                        | The ID of the private channel this call is occuring in                              |
| message_id   | snowflake                                                        | The ID of the message associated with the call                                      |
| region       | string                                                           | The [voice region](/resources/voice#voice-region-object) ID the call is hosted from |
| ringing      | array[snowflake]                                                 | The IDs of the users that are being rung to join the call                           |
| voice_states | array[[voice state](/resources/voice#voice-state-object) object] | The voice states of the users already in the call                                   |

#### Call Update

Sent when metadata about a call changes.

###### Call Update Structure

| Field      | Type      | Description                                                                         |
| ---------- | --------- | ----------------------------------------------------------------------------------- |
| channel_id | snowflake | The ID of the private channel this call is occuring in                              |
| message_id | snowflake | The ID of the message associated with the call                                      |
| region     | string    | The [voice region](/resources/voice#voice-region-object) ID the call is hosted from |
| ringing    | array     | The IDs of the users that are being rung to join the call                           |

#### Call Delete

Sent when a call is deleted, or becomes unavailable due to an outage.

###### Call Delete Structure

| Field        | Type      | Description                                            |
| ------------ | --------- | ------------------------------------------------------ |
| channel_id   | snowflake | The ID of the private channel this call is occuring in |
| unavailable? | boolean   | Whether the call is unavailable due to an outage       |

### Channels

#### Channel Create

Sent when a new guild channel is created, relevant to the current user. The inner payload is a [channel](/resources/channel#channel-object) object.

###### Channel Create Structure Extra Fields

| Field              | Type      | Description                                                            |
| ------------------ | --------- | ---------------------------------------------------------------------- |
| origin_channel_id? | snowflake | The ID of the private channel that this group channel was created from |

#### Channel Update

Sent when a channel is updated. The inner payload is a [channel](/resources/channel#channel-object) object. This is not sent when the field `last_message_id` or `status` is altered.
To keep track of the `last_message_id` changes, you must listen for [Message Create](#message-create) events (or [Thread Create](#thread-create) events for thread-only channels).
To keep track of the `status` changes, you must listen for [Voice Channel Status Update](#voice-channel-status-update) events.

This event may reference roles or guild members that no longer exist in a guild.

#### Channel Delete

Sent when a channel relevant to the current user is deleted. The inner payload is a [channel](/resources/channel#channel-object) object.

#### Channel Statuses

Sent in response to [Request Channel Statuses](#request-channel-statuses). Contains the statuses for all voice channels that have one set.

###### Channel Statuses Structure

| Field    | Type                                                      | Description                      |
| -------- | --------------------------------------------------------- | -------------------------------- |
| guild_id | snowflake                                                 | The ID of the guild              |
| channels | array[[channel status](#channel-status-structure) object] | The voice channels with statuses |

###### Channel Status Structure

| Field  | Type      | Description                                          |
| ------ | --------- | ---------------------------------------------------- |
| id     | snowflake | The ID of the channel                                |
| status | string    | The status of the voice channel (max 500 characters) |

#### Voice Channel Status Update

Sent when a voice channel's status is updated.

###### Voice Channel Status Update Structure

| Field    | Type      | Description                                          |
| -------- | --------- | ---------------------------------------------------- |
| id       | snowflake | The ID of the voice channel                          |
| guild_id | snowflake | The ID of the guild                                  |
| status   | ?string   | The status of the voice channel (max 500 characters) |

#### Channel Member Count Update

Sent in response to [Request Channel Member Count](#request-channel-member-count). Contains the number of members that can currently see the channel.

##### Channel Member Count Update Structure

| Field          | Type      | Description                                                                  |
| -------------- | --------- | ---------------------------------------------------------------------------- |
| guild_id       | snowflake | The ID of the guild                                                          |
| channel_id     | snowflake | The ID of the channel                                                        |
| member_count   | integer   | The number of members that can currently see the channel                     |
| presence_count | integer   | The number of members that can currently see the channel and are not offline |

#### Channel Pins Update

Sent when a message is pinned or unpinned in a text channel. This is not sent when a pinned message is deleted.

###### Channel Pins Update Structure

| Field               | Type               | Description                                    |
| ------------------- | ------------------ | ---------------------------------------------- |
| guild_id?           | snowflake          | The ID of the guild                            |
| channel_id          | snowflake          | The ID of the channel                          |
| last_pin_timestamp? | ?ISO8601 timestamp | When the most recent pinned message was pinned |

#### Channel Recipient Add

Sent when a user is added to a group direct message channel.

###### Channel Recipient Add Structure

| Field      | Type                                               | Description                             |
| ---------- | -------------------------------------------------- | --------------------------------------- |
| channel_id | snowflake                                          | The ID of the channel                   |
| user       | partial [user](/resources/user#user-object) object | The user who was added                  |
| nick?      | string                                             | The nickname of the user in the channel |

#### Channel Recipient Remove

Sent when a user is removed from a group direct message channel.

###### Channel Recipient Remove Structure

| Field      | Type                                               | Description              |
| ---------- | -------------------------------------------------- | ------------------------ |
| channel_id | snowflake                                          | The ID of the channel    |
| user       | partial [user](/resources/user#user-object) object | The user who was removed |

### Consoles

#### Console Command Update

Sent when a console command is updated.

###### Console Command Update Structure

| Field      | Type                                                                                                | Description               |
| ---------- | --------------------------------------------------------------------------------------------------- | ------------------------- |
| id         | snowflake                                                                                           | The ID of the command     |
| result ^1^ | string                                                                                              | The result of the command |
| error ^2^  | ?partial [JSON error response](/topics/opcodes-and-status-codes#example-json-error-response) object | The error                 |

^1^ If command failed, `result` will be set to either `failed`, or `n/a`.

^2^ The object will contain only a `code` key.

#### Conversation Summary Update

Sent when conversation summaries are updated for a text channel. Only new or updated summaries are sent.

###### Conversation Summary Update Structure

| Field      | Type                                                                                 | Description                                        |
| ---------- | ------------------------------------------------------------------------------------ | -------------------------------------------------- |
| guild_id   | snowflake                                                                            | The ID of the guild                                |
| channel_id | snowflake                                                                            | The ID of the text channel                         |
| summaries  | array[[conversation summary](/resources/message#conversation-summary-object) object] | The updated conversation summaries for the channel |

#### DM Settings Upsell Show

May be sent when a user rejects a message request.

###### DM Settings Upsell Show Structure

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |

#### Thread Create

Sent when a thread is created, relevant to the current user, or when the current user is added to a thread. The inner payload is a [channel](/resources/channel#channel-object) object.

- When a thread is created, includes an additional `newly_created` boolean field.
- When being added to an existing private thread, includes the optional [`member` field](/resources/channel#thread-member-object).

###### Thread Create Structure Extra Fields

| Field          | Type    | Description                         |
| -------------- | ------- | ----------------------------------- |
| newly_created? | boolean | Whether the thread was just created |

#### Thread Update

Sent when a thread is updated. The inner payload is a [channel](/resources/channel#channel-object) object. This is not sent when the field `last_message_id` is altered. To keep track of the `last_message_id` changes, you must listen for [Message Create](#message-create) events.

#### Thread Delete

Sent when a thread relevant to the current user is deleted. The inner payload is a subset of the [channel](/resources/channel#channel-object) object, containing just the `id`, `guild_id`, `parent_id`, and `type` fields.

#### Thread List Sync

Sent to sync a guild's active thread list, or to sync specific channel lists when the current user _gains_ access to a channel within a guild.

For bots, all active threads are synced at startup. For user accounts, only joined threads are synced, and the full list is sent through this event on subscription.

###### Thread List Sync Structure

| Field        | Type                                                                   | Description                                                                                                                                                                                           |
| ------------ | ---------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| guild_id     | snowflake                                                              | The ID of the guild                                                                                                                                                                                   |
| channel_ids? | array[snowflake]                                                       | The parent channel IDs whose threads are being synced (may contain channel IDs that have no active threads so you know to clear that data); if omitted, then threads were synced for the entire guild |
| threads      | array[[channel](/resources/channel#channel-object) object]             | All active threads in the given channels that the current user can access                                                                                                                             |
| members      | array[[thread member](/resources/channel#thread-member-object) object] | All thread member objects from the synced threads for the current user, indicating which threads the current user has been added to                                                                   |

#### Thread Member Update

Sent when the [thread member](/resources/channel#thread-member-object) object for the current user is updated. The inner payload is a [thread member](/resources/channel#thread-member-object) object with an extra `guild_id` field. For bots, this event largely is just a signal that you are a member of the thread. See the [threads docs](/topics/threads) for more details.

###### Thread Member Update Structure Extra Fields

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | the id of the guild |

#### Thread Members Update

Sent when anyone is added to or removed from a thread. If the current user does not have the `GUILD_MEMBERS` [Gateway intent](/topics/gateway#gateway-intents), then this event will only be sent if the current user was added to or removed from the thread.

###### Thread Members Update Structure

| Field               | Type                                                                   | Description                                                   |
| ------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------- |
| id                  | snowflake                                                              | The ID of the thread                                          |
| guild_id            | snowflake                                                              | The ID of the guild                                           |
| member_count        | integer                                                                | The approximate number of members in the thread, capped at 50 |
| added_members? ^1^  | array[[thread member](/resources/channel#thread-member-object) object] | The users who were added to the thread                        |
| removed_member_ids? | array of snowflakes                                                    | The IDs of the users who were removed from the thread         |

^1^ Also include [`member`](/resources/guild#guild-member-object) and nullable [`presence`](/resources/presence#presence-object) fields.

### Friend Suggestions

#### Friend Suggestion Create

Sent when a friend suggestion is created. The inner payload is a [friend suggestion](/resources/relationships#friend-suggestion-object) object.

#### Friend Suggestion Delete

Sent when a friend suggestion is deleted.

###### Friend Suggestion Delete Structure

| Field             | Type      | Description                  |
| ----------------- | --------- | ---------------------------- |
| suggested_user_id | snowflake | The ID of the suggested user |

### Guilds

#### Gateway Guild Object

[Guild](/resources/guild#guild-object) objects received over the Gateway have extended attributes that are not provided in the REST API.

###### Gateway Guild Structure

| Field                      | Type                                                                                                 | Description                                                                                    |
| -------------------------- | ---------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| joined_at                  | ISO8601 timestamp                                                                                    | When this guild was joined                                                                     |
| large                      | boolean                                                                                              | Whether this is considered a large guild                                                       |
| unavailable?               | boolean                                                                                              | Whether the guild is unavailable due to an outage                                              |
| geo_restricted? ^6^        | boolean                                                                                              | Whether the guild is not available in your current region                                      |
| member_count               | integer                                                                                              | Total number of members in this guild                                                          |
| voice_states ^4^           | array[[voice state](/resources/voice#voice-state-object) object]                                     | States of members currently in voice channels                                                  |
| members ^1^                | array[[guild member](/resources/guild#guild-member-object) object]                                   | Members in the guild                                                                           |
| channels                   | array[[channel](/resources/channel#channel-object) object]                                           | Channels in the guild                                                                          |
| threads ^3^                | array[[channel](/resources/channel#channel-object) object]                                           | All active threads in the guild that current user has permission to view                       |
| presences ^2^              | array[[presence](/resources/presence#presence-object) object]                                        | Presences of included guild members; will only include non-offline members for large guilds    |
| stage_instances            | array[[stage instance](/resources/stage-instance#stage-instance-object) object]                      | Stage instances in the guild                                                                   |
| guild_scheduled_events     | array[[guild scheduled event](/resources/guild-scheduled-event#guild-scheduled-event-object) object] | Scheduled events in the guild                                                                  |
| data_mode ^5^              | string                                                                                               | The [data mode](#data-mode) for this object                                                    |
| properties ^5^             | partial [guild](/resources/guild#guild-object) object                                                | The properties of the guild; an otherwise-normal guild object that is missing the below fields |
| stickers                   | array[[sticker](/resources/sticker#sticker-object) object]                                           | Custom guild stickers                                                                          |
| roles                      | array[[role](/resources/guild#role-object) object]                                                   | Roles in the guild                                                                             |
| emojis                     | array[[emoji](/resources/emoji#emoji-object) object]                                                 | Custom guild emojis                                                                            |
| premium_subscription_count | integer                                                                                              | The number of premium subscriptions (boosts) the guild currently has                           |

^1^ For bots without the `GUILD_PRESENCES` [Gateway intent](/topics/gateway#gateway-intents), user accounts, or guilds with over 75k members, this will only include the client's member and users in voice channels. User accounts additionally receive [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the [`NO_AFFINE_USER_IDS` Gateway capability](/topics/gateway#gateway-capabilities)), as well as users they have an open DM with.

^2^ User accounts only receive presences for non-offline [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the [`NO_AFFINE_USER_IDS` Gateway capability](/topics/gateway#gateway-capabilities)), as well as users they have an open DM with. Bots with the `GUILD_PRESENCES` [Gateway intent](/topics/gateway#gateway-intents) receive all presences.

^3^ User accounts are only synced threads they have been added to. Bots are synced all threads.

^4^ Omitted when using the `PRIORITIZED_READY_PAYLOAD` [Gateway capability](/topics/gateway#gateway-capabilities).

^5^ Requires the `CLIENT_STATE_V2` [Gateway capability](/topics/gateway#gateway-capabilities). Without the capability, the `properties` field will be merged into the main object, along with the rest of the extended attributes.

^6^ Geo-restricted guilds will also be marked as unavailable and will not be joinable or accessable.

#### Unavailable Guild Object

A partial guild object. Represents an offline guild, or a guild the client is not connected to yet.

###### Unavailable Guild Structure

| Field           | Type      | Description                                               |
| --------------- | --------- | --------------------------------------------------------- |
| id              | snowflake | The ID of the guild                                       |
| unavailable?    | boolean   | Whether the guild is unavailable due to an outage         |
| geo_restricted? | boolean   | Whether the guild is not available in your current region |
| name? ^1^       | string    | The name of the guild (2-100 characters)                  |
| icon? ^1^       | ?string   | The guild's [icon hash](/reference#cdn-formatting)        |

^1^ Only included when `geo_restricted` is `true`.

###### Example Unavailable Guild

```json
{
  "id": "41771983423143937",
  "unavailable": true
}
```

###### Data Mode

| Value       | Description                                             |
| ----------- | ------------------------------------------------------- |
| full        | The full guild object is sent                           |
| partial     | Guild data already in the client state cache is omitted |
| unavailable | The guild is unavailable due to an outage               |

#### Guild Create

This event can be sent in three different scenarios:

1.  When a bot is initially connecting, to lazily load and backfill information for all unavailable guilds sent in the [Ready](#ready) event. Guilds that are unavailable due to an outage or geo-restricted will send a [Guild Delete](#guild-delete) event.
2.  When a Guild becomes available again to the client.
3.  When the current user joins a new Guild.

<Alert type="info">

During an outage, the guild object in scenarios 1 and 3 may be marked as unavailable.

</Alert>

The inner payload can be:

- An available guild: a [Gateway guild](#gateway-guild-object) object.
- An unavailable guild: an [unavailable guild](#unavailable-guild-object) object.

#### Guild Update

Sent when a guild is updated. The inner payload is a [guild](/resources/guild#guild-object) object.

#### Guild Delete

Sent when a guild becomes or was already unavailable due to an outage, or when the user leaves or is removed from a guild. The inner payload is an [unavailable guild](#unavailable-guild-object) object. If the `unavailable` field is not set, the user was removed from the guild.

#### Guild Applied Boosts Update

Sent when a premium guild subscription is updated, meaning a user applied a boost or an existing boost was updated. The inner payload is a [premium guild subscription](/resources/guild#premium-guild-subscription-object) object.

#### Guild Audit Log Entry Create

Sent when a guild audit log entry is created. The inner payload is an [Audit Log Entry](/resources/audit-log#audit-log-entry-object) object. Requires the `VIEW_AUDIT_LOG` permission.

#### Guild Ban Add

Sent when a user is banned from a guild.

###### Guild Ban Add Structure

| Field    | Type                                               | Description         |
| -------- | -------------------------------------------------- | ------------------- |
| guild_id | snowflake                                          | The ID of the guild |
| user     | partial [user](/resources/user#user-object) object | The banned user     |

#### Guild Ban Remove

Sent when a user is unbanned from a guild.

###### Guild Ban Remove Structure

| Field    | Type                                               | Description         |
| -------- | -------------------------------------------------- | ------------------- |
| guild_id | snowflake                                          | The ID of the guild |
| user     | partial [user](/resources/user#user-object) object | The unbanned user   |

#### Guild Directory Entry Create

Sent when a guild directory entry is created. The inner payload is a [directory entry](/resources/directory#directory-entry-object) object.

#### Guild Directory Entry Update

Sent when a guild directory entry is updated. The inner payload is a [directory entry](/resources/directory#directory-entry-object) object.

#### Guild Directory Entry Delete

Sent when a guild directory entry is deleted.

###### Guild Directory Entry Delete Structure

| Field                | Type      | Description                                                                  |
| -------------------- | --------- | ---------------------------------------------------------------------------- |
| type                 | integer   | The [type of directory entry](/resources/directory#directory-entry-type)     |
| directory_channel_id | snowflake | The ID of the directory channel that the entry is in                         |
| guild_id             | snowflake | The ID of the guild that the entry is in                                     |
| entity_id            | snowflake | The ID of the guild or scheduled event                                       |
| created_at           | string    | When the entry was created                                                   |
| primary_category_id? | integer   | The [primary category](/resources/directory#directory-category) of the entry |
| description          | ?string   | The description of the entry                                                 |
| author_id            | snowflake | The ID of the user that created the entry                                    |

#### Guild Emojis Update

Sent when a guild's emojis have been updated.

###### Guild Emojis Update Structure

| Field    | Type                                                 | Description             |
| -------- | ---------------------------------------------------- | ----------------------- |
| guild_id | snowflake                                            | The ID of the guild     |
| emojis   | array[[emoji](/resources/emoji#emoji-object) object] | The emojis in the guild |

#### Guild Stickers Update

Sent when a guild's stickers have been updated.

###### Guild Stickers Update Structure

| Field    | Type                                                       | Description               |
| -------- | ---------------------------------------------------------- | ------------------------- |
| guild_id | snowflake                                                  | The ID of the guild       |
| stickers | array[[sticker](/resources/sticker#sticker-object) object] | The stickers in the guild |

#### Guild Join Request Create

Sent when a user creates a guild join request. Requires the `KICK_MEMBERS` permission for users other than the current user.

<Alert type="info">

Events for guild join requests created with a status of [`STARTED`](/resources/guild#guild-join-request-status) are only dispatched to the current user. With respect to other users, this event is only sent for submitted join requests. If a join request is created and then submitted, only a [Guild Join Request Update](#guild-join-request-update) event will be received by moderators.

</Alert>

<Alert type="info">

If a join request is created for a user with the `KICK_MEMBERS` permission, this event will be sent to the user twice: once for creating the join request, and once for receiving it as a moderator.

</Alert>

###### Guild Join Request Create Structure

| Field    | Type                                                                    | Description                                                                  |
| -------- | ----------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| guild_id | snowflake                                                               | The ID of the guild                                                          |
| request  | [guild join request](/resources/guild#guild-join-request-object) object | The created join request                                                     |
| status   | string                                                                  | The [status of the join request](/resources/guild#guild-join-request-status) |

#### Guild Join Request Update

Sent when a guild join request is updated. Requires the `KICK_MEMBERS` permission for users other than the current user.

<Alert type="info">

If a join request is updated for a user with the `KICK_MEMBERS` permission, this event will be sent to the user twice: once for being the user who created the join request, and once for receiving it as a moderator.

</Alert>

###### Guild Join Request Update Structure

| Field    | Type                                                                    | Description                                                                  |
| -------- | ----------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| guild_id | snowflake                                                               | The ID of the guild                                                          |
| request  | [guild join request](/resources/guild#guild-join-request-object) object | The updated join request                                                     |
| status   | string                                                                  | The [status of the join request](/resources/guild#guild-join-request-status) |

#### Guild Join Request Delete

Sent when a guild join request is deleted. Requires the `KICK_MEMBERS` permission for users other than the current user.

###### Guild Join Request Delete Structure

| Field    | Type      | Description                                     |
| -------- | --------- | ----------------------------------------------- |
| guild_id | snowflake | The ID of the guild                             |
| id       | snowflake | The ID of the join request                      |
| user_id  | snowflake | The ID of the user who created the join request |

#### Guild Member Add

<Alert type="warn">

If using [Gateway Intents](/topics/gateway#gateway-intents), the `GUILD_MEMBERS` intent will be required to receive this event.

</Alert>

Sent when a new user joins a guild. The inner payload is a [guild member](/resources/guild#guild-member-object) object with an extra `guild_id` key:

For user accounts, this event is only sent for themselves. Users are not automatically subscribed to [friends and implicit relationships](/resources/relationships#relationship-object) or users they have an open DM with upon them joining.

###### Guild Member Add Structure Extra Fields

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |

#### Guild Member Update

<Alert type="warn">

If using [Gateway Intents](/topics/gateway#gateway-intents), the `GUILD_MEMBERS` intent will be required to receive this event.

</Alert>

Sent when a guild member is updated. This will also fire when the user object of a guild member changes. Optional fields will only be included if changed.

For user accounts, this event is only sent for members they are subscribed to, and in response to actions committed by the user. Users are automatically subscribed to [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the `NO_AFFINE_USER_IDS` [Gateway capability](/topics/gateway#gateway-capabilities)), as well as users they have an open DM with.

###### Guild Member Update Structure

| Field                            | Type                                                                            | Description                                                                                                                                                                                                                          |
| -------------------------------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| guild_id                         | snowflake                                                                       | The ID of the guild                                                                                                                                                                                                                  |
| user                             | partial [user](/resources/user#user-object) object                              | The user this guild member represents                                                                                                                                                                                                |
| nick?                            | ?string                                                                         | The guild-specific nickname of the member (1-32 characters)                                                                                                                                                                          |
| avatar                           | ?string                                                                         | The member's [guild avatar hash](/reference#cdn-formatting)                                                                                                                                                                          |
| avatar_decoration_data?          | ?[avatar decoration data](/resources/user#avatar-decoration-data-object) object | The member's [guild avatar decoration](https://support.discord.com/hc/en-us/articles/13410113109911-Avatar-Decorations)                                                                                                              |
| roles                            | array[snowflake]                                                                | The role IDs assigned to this member                                                                                                                                                                                                 |
| joined_at                        | ISO8601 timestamp                                                               | When the user joined the guild                                                                                                                                                                                                       |
| premium_since                    | ?ISO8601 timestamp                                                              | When the member subscribed to (started [boosting](https://support.discord.com/hc/en-us/articles/360028038352-Server-Boosting-)) the guild                                                                                            |
| deaf?                            | boolean                                                                         | Whether the member is deafened in voice channels                                                                                                                                                                                     |
| mute?                            | boolean                                                                         | Whether the member is muted in voice channels                                                                                                                                                                                        |
| pending? ^1^                     | boolean                                                                         | Whether the member has not yet passed the guild's [member verification](/resources/guild#member-verification-object) requirements                                                                                                    |
| communication_disabled_until ^2^ | ?ISO8601 timestamp                                                              | when the user's [timeout](https://support.discord.com/hc/en-us/articles/4413305239191-Time-Out-FAQ) will expire and the user will be able to communicate in the guild again, null or a time in the past if the user is not timed out |
| flags                            | integer                                                                         | The [member's flags](/resources/guild#guild-member-flags)                                                                                                                                                                            |

^1^ Won't be included in contexts that are impossible for a pending member to exist in.

^2^ If the value is a time in the past, the member's timeout has expired and they can communicate again. An event will not be sent when this happens.

#### Guild Member Remove

<Alert type="warn">

If using [Gateway Intents](/topics/gateway#gateway-intents), the `GUILD_MEMBERS` intent will be required to receive this event.

</Alert>

Sent when a user is removed from a guild (leave/kick/ban).

For user accounts, this event is only sent for themselves, members they are subscribed to, and in response to actions committed by the user. Users are automatically subscribed to [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the `NO_AFFINE_USER_IDS` [Gateway capability](/topics/gateway#gateway-capabilities)), as well as users they have an open DM with.

###### Guild Member Remove Structure

| Field    | Type                                       | Description         |
| -------- | ------------------------------------------ | ------------------- |
| guild_id | snowflake                                  | The ID of the guild |
| user     | [user](/resources/user#user-object) object | The removed user    |

#### Guild Members Chunk

Sent in response to [Request Guild Members](#request-guild-members).
You can use the `chunk_index` and `chunk_count` to calculate how many chunks are left for your request.

###### Guild Members Chunk Structure

| Field       | Type                                                               | Description                                                                                                                  |
| ----------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| guild_id    | snowflake                                                          | The ID of the guild                                                                                                          |
| members     | array[[guild member](/resources/guild#guild-member-object) object] | Chunked guild members                                                                                                        |
| chunk_index | integer                                                            | The chunk index in the expected chunks for this response `(0 <= chunk_index < chunk_count)`                                  |
| chunk_count | integer                                                            | The total number of expected chunks for this response                                                                        |
| not_found?  | array                                                              | The passed IDs that were not found                                                                                           |
| presences?  | array[[presence](/resources/presence#presence-object) object]      | The presences of the returned members, if requested                                                                          |
| nonce?      | string                                                             | The nonce used in [Request Guild Members](#request-guild-members) or [Search Recent Members](#search-recent-members), if any |

#### Guild Role Create

Sent when a guild role is created.

###### Guild Role Create Structure

| Field    | Type                                        | Description         |
| -------- | ------------------------------------------- | ------------------- |
| guild_id | snowflake                                   | The ID of the guild |
| role     | [role](/resources/guild#role-object) object | The role created    |

#### Guild Role Update

Sent when a guild role is updated.

###### Guild Role Update Structure

| Field    | Type                                        | Description         |
| -------- | ------------------------------------------- | ------------------- |
| guild_id | snowflake                                   | The ID of the guild |
| role     | [role](/resources/guild#role-object) object | The role updated    |

#### Guild Role Delete

Sent when a guild role is deleted.

###### Guild Role Delete Structure

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |
| role_id  | snowflake | The ID of the role  |

### Guild Scheduled Events

#### Guild Scheduled Event Create

Sent when a guild scheduled event is created. The inner payload is a [guild scheduled event](/resources/guild-scheduled-event#guild-scheduled-event-object) object.

#### Guild Scheduled Event Update

Sent when a guild scheduled event is updated. The inner payload is a [guild scheduled event](/resources/guild-scheduled-event#guild-scheduled-event-object) object.

#### Guild Scheduled Event Delete

Sent when a guild scheduled event is deleted. The inner payload is a [guild scheduled event](/resources/guild-scheduled-event#guild-scheduled-event-object) object.

#### Guild Scheduled Event Exception Create

Sent when a guild scheduled event exception is created. The inner payload is a [guild scheduled event exception](/resources/guild-scheduled-event#guild-scheduled-event-exception-object) object.

#### Guild Scheduled Event Exception Update

Sent when a guild scheduled event exception is updated. The inner payload is a [guild scheduled event exception](/resources/guild-scheduled-event#guild-scheduled-event-exception-object) object.

<Alert type="info">

This event is not currently used. See [Guild Scheduled Event Exception Create](#guild-scheduled-event-exception-create) instead.

</Alert>

#### Guild Scheduled Event Exception Delete

Sent when a guild scheduled event exception is deleted. The inner payload is a [guild scheduled event exception](/resources/guild-scheduled-event#guild-scheduled-event-exception-object) object.

#### Guild Scheduled Event Exceptions Delete

Sent when all guild scheduled event exceptions are deleted.

###### Guild Scheduled Event Exceptions Delete Structure

| Field    | Type      | Description                         |
| -------- | --------- | ----------------------------------- |
| guild_id | snowflake | The ID of the guild                 |
| event_id | snowflake | The ID of the guild scheduled event |

#### Guild Scheduled Event User Add

Sent when a user has subscribed to a guild scheduled event or exception. The inner payload is a [guild scheduled event user](/resources/guild-scheduled-event#guild-scheduled-event-user-object) object.

#### Guild Scheduled Event User Remove

Sent when a user has unsubscribed from a guild scheduled event or exception. The inner payload is a [guild scheduled event user](/resources/guild-scheduled-event#guild-scheduled-event-user-object) object.

### Guild Soundboard

#### Guild Soundboard Sound Create

Sent when a guild soundboard sound is created. The inner payload is a [soundboard sound](/resources/soundboard#soundboard-sound-object) object.

#### Guild Soundboard Sound Update

Sent when a guild soundboard sound is updated. The inner payload is a [soundboard sound](/resources/soundboard#soundboard-sound-object) object.

#### Guild Soundboard Sound Delete

Sent when a guild soundboard sound is deleted.

###### Guild Soundboard Sound Delete Structure

| Field    | Type      | Description                    |
| -------- | --------- | ------------------------------ |
| guild_id | snowflake | The ID of the guild            |
| sound_id | snowflake | The ID of the soundboard sound |

#### Soundboard Sounds

Sent in response to [Request Soundboard Sounds](#request-soundboard-sounds).

###### Soundboard Sounds Event Fields

| Field             | Type                                                                            | Description                    |
| ----------------- | ------------------------------------------------------------------------------- | ------------------------------ |
| guild_id          | snowflake                                                                       | The ID of the source guild     |
| soundboard_sounds | array[[soundboard sound](/resources/soundboard#soundboard-sound-object) object] | Custom guild soundboard sounds |

### Integrations

#### Guild Integrations Update

Sent when a guild integration is updated. This is sent in addition to one of the below events.

###### Guild Integrations Update Structure

| Field    | Type      | Description                                         |
| -------- | --------- | --------------------------------------------------- |
| guild_id | snowflake | The ID of the guild whose integrations were updated |

#### Integration Create

Sent when an integration is created. The inner payload is an [integration](/resources/integration#integration-object) object with an additional `guild_id` key:

###### Integration Create Structure Extra Fields

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |

#### Integration Update

Sent when an integration is updated. The inner payload is an [integration](/resources/integration#integration-object) object with an additional `guild_id` key:

###### Integration Update Structure Extra Fields

| Field    | Type      | Description         |
| -------- | --------- | ------------------- |
| guild_id | snowflake | The ID of the guild |

#### Integration Delete

Sent when an integration is deleted.

###### Integration Delete Structure

| Field           | Type      | Description                                         |
| --------------- | --------- | --------------------------------------------------- |
| id              | snowflake | The ID of the integration                           |
| guild_id        | snowflake | The ID of the guild                                 |
| application_id? | snowflake | The ID of the integrated OAuth2 application, if any |

### Invites

#### Invite Create

Sent when a new invite to a guild channel is created. Requires the `MANAGE_CHANNELS` permission.

###### Invite Create Structure

| Field               | Type                                                                    | Description                                                                         |
| ------------------- | ----------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| code                | string                                                                  | The invite code (unique ID)                                                         |
| type                | integer                                                                 | The [type of invite](/resources/invite#invite-type)                                 |
| channel_id          | snowflake                                                               | The ID of the channel the invite is for                                             |
| guild_id            | snowflake                                                               | The ID of the guild this invite is for                                              |
| inviter?            | partial [user](/resources/user#user-object) object                      | The user who created the invite                                                     |
| target_type?        | integer                                                                 | The [type of target](/resources/invite#invite-target-type) for this guild invite    |
| target_user?        | partial [user](/resources/user#user-object) object                      | The user whose stream to display for this voice channel stream invite               |
| target_application? | partial [application](/resources/application#application-object) object | The embedded application to open for this voice channel embedded application invite |
| expires_at          | ?ISO8601 timestamp                                                      | The expiry date of the invite, if it expires                                        |
| created_at          | ISO8601 timestamp                                                       | When this invite was created                                                        |
| uses                | integer                                                                 | Number of times this invite has been used                                           |
| max_uses            | integer                                                                 | Max number of times this invite can be used                                         |
| max_age             | integer                                                                 | Duration (in seconds) after which the invite expires                                |
| temporary           | boolean                                                                 | Whether this invite only grants temporary membership                                |

#### Invite Delete

Sent when a guild invite is deleted. Requires the `MANAGE_CHANNELS` permission.

###### Invite Delete Structure

| Field      | Type      | Description                             |
| ---------- | --------- | --------------------------------------- |
| code       | string    | The invite code (unique ID)             |
| channel_id | snowflake | The ID of the channel the invite is for |
| guild_id   | snowflake | The ID of the guild this invite is for  |

### Messages

<Alert type="warn">

Unlike persistent messages, ephemeral messages are sent directly to the user and the bot who sent the message rather than through the guild channel. Because of this, ephemeral messages are tied to the [`DIRECT_MESSAGES` intent](/topics/gateway#list-of-intents), and the message object won't include `guild_id` or `member`.

</Alert>

###### Message Object Extra Fields

| Field           | Type                                                                | Description                                                                                                                                    |
| --------------- | ------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| channel_type    | integer                                                             | The [type of channel](/resources/channel#channel-type) this message was sent in                                                                |
| guild_id? ^1^   | snowflake                                                           | The ID of the guild the message was sent in                                                                                                    |
| member? ^1^ ^2^ | partial [guild member](/resources/guild#guild-member-object) object | Guild member data for this message's author                                                                                                    |
| mentions ^1^    | array[partial [user](/resources/user#user-object) object]           | Users specifically mentioned in the message, with an extra [`member`](/resources/guild#guild-member-object) key representing guild member data |
| metadata?       | object                                                              | Custom metadata for the message (max 25 keys, 1024 characters per key and value)                                                               |

^1^ Ephemeral messages will not include these fields.

^2^ Messages sent by webhooks will not include this field, as webhooks are not guild members.

#### Message Create

Sent when a message is created. The inner payload is a [message](/resources/message#message-object) object with the [extra structure](#message-object-extra-fields) above.

#### Message Update

Sent when a message is updated. The inner payload is a [message](/resources/message#message-object) object with the [extra structure](#message-object-extra-fields) above.

<Alert type="warn">

The value for `tts` will always be `false` in message updates.

</Alert>

#### Message Delete

Sent when a message is deleted.

###### Message Delete Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| id         | snowflake | The ID of the message |
| channel_id | snowflake | The ID of the channel |
| guild_id?  | snowflake | The ID of the guild   |

#### Message Delete Bulk

Sent when multiple messages are deleted at once.

###### Message Delete Bulk Structure

| Field      | Type             | Description                     |
| ---------- | ---------------- | ------------------------------- |
| ids        | array[snowflake] | The IDs of the removed messages |
| channel_id | snowflake        | The ID of the channel           |
| guild_id?  | snowflake        | The ID of the guild             |

#### Message Poll Vote Add

Sent when a user votes on a poll. If the poll allows multiple selection, one event will be sent per answer.

###### Message Poll Vote Add Fields

| Field      | Type      | Description       |
| ---------- | --------- | ----------------- |
| user_id    | snowflake | ID of the user    |
| channel_id | snowflake | ID of the channel |
| message_id | snowflake | ID of the message |
| guild_id?  | snowflake | ID of the guild   |
| answer_id  | integer   | ID of the answer  |

#### Message Poll Vote Remove

Sent when a user removes their vote on a poll. If the poll allows for multiple selections, one event will be sent per answer.

###### Message Poll Vote Remove Fields

| Field      | Type      | Description       |
| ---------- | --------- | ----------------- |
| user_id    | snowflake | ID of the user    |
| channel_id | snowflake | ID of the channel |
| message_id | snowflake | ID of the message |
| guild_id?  | snowflake | ID of the guild   |
| answer_id  | integer   | ID of the answer  |

#### Message Reaction Add

Sent when a user adds a reaction to a message.

###### Message Reaction Add Structure

| Field             | Type                                                  | Description                                              |
| ----------------- | ----------------------------------------------------- | -------------------------------------------------------- |
| user_id           | snowflake                                             | The ID of the user                                       |
| channel_id        | snowflake                                             | The ID of the channel                                    |
| message_id        | snowflake                                             | The ID of the message                                    |
| message_author_id | snowflake                                             | The ID of the message author                             |
| guild_id?         | snowflake                                             | The ID of the guild                                      |
| member?           | [member](/resources/guild#guild-member-object) object | The member who reacted                                   |
| emoji             | partial [emoji](/resources/emoji#emoji-object) object | The emoji used to react                                  |
| type              | integer                                               | The [type of reaction](/resources/message#reaction-type) |
| burst_colors?     | array[string]                                         | The hex-encoded colors to render the burst reaction with |

#### Message Reaction Add Many

Sent when multiple users add reactions to a message in a short period of time.

<Alert type="info">

This event requires the `DEBOUNCE_MESSAGE_REACTIONS` [Gateway capability](/topics/gateway#gateway-capabilities).

</Alert>

###### Message Reaction Add Many Structure

| Field      | Type                                                              | Description                        |
| ---------- | ----------------------------------------------------------------- | ---------------------------------- |
| channel_id | snowflake                                                         | The ID of the channel              |
| message_id | snowflake                                                         | The ID of the message              |
| guild_id?  | snowflake                                                         | The ID of the guild                |
| reactions  | array[[debounced reaction](#debounced-reaction-structure) object] | The reactions added to the message |

#### Debounced Reaction Structure

| Field | Type                                                  | Description                                      |
| ----- | ----------------------------------------------------- | ------------------------------------------------ |
| users | array[snowflake]                                      | The IDs of the users who reacted with this emoji |
| emoji | partial [emoji](/resources/emoji#emoji-object) object | The emoji used to react                          |

#### Message Reaction Remove

Sent when a user removes a reaction from a message.

###### Message Reaction Remove Structure

| Field      | Type                                                    | Description                                              |
| ---------- | ------------------------------------------------------- | -------------------------------------------------------- |
| user_id    | snowflake                                               | The ID of the user                                       |
| channel_id | snowflake                                               | The ID of the channel                                    |
| message_id | snowflake                                               | The ID of the message                                    |
| guild_id?  | snowflake                                               | The ID of the guild                                      |
| emoji      | a partial [emoji](/resources/emoji#emoji-object) object | The emoji used to react                                  |
| type       | integer                                                 | The [type of reaction](/resources/message#reaction-type) |

#### Message Reaction Remove All

Sent when a user explicitly removes all reactions from a message.

###### Message Reaction Remove All Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| channel_id | snowflake | The ID of the channel |
| message_id | snowflake | The ID of the message |
| guild_id?  | snowflake | The ID of the guild   |

#### Message Reaction Remove Emoji

Sent when a user removes all instances of a given emoji from the reactions of a message.

###### Message Reaction Remove Emoji Structure

| Field      | Type                                                  | Description                |
| ---------- | ----------------------------------------------------- | -------------------------- |
| channel_id | snowflake                                             | The ID of the channel      |
| message_id | snowflake                                             | The ID of the message      |
| guild_id?  | snowflake                                             | The ID of the guild        |
| emoji      | partial [emoji object](/resources/emoji#emoji-object) | The emoji that was removed |

#### Recent Mention Delete

Sent when a message that mentioned the current user in the last week is acknowledged and deleted.

###### Recent Mention Delete Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| message_id | snowflake | The ID of the message |

#### Last Messages

Sent in response to [Request Last Messages](#request-last-messages).

###### Last Messages Structure

| Field    | Type                                                       | Description                             |
| -------- | ---------------------------------------------------------- | --------------------------------------- |
| guild_id | snowflake                                                  | The ID of the guild                     |
| messages | array[[message](/resources/message#message-object) object] | Last messages of the requested channels |

### Notification Settings

#### Notification Settings Update

Sent when a user's notification settings are updated. The inner payload is a [notification settings](/resources/user-settings#notification-settings-object) object.

### OAuth2

#### OAuth2 Token Revoke

Sent when an OAuth2 application is deauthorized.

###### OAuth2 Token Revoke Structure

| Field          | Type      | Description                                            |
| -------------- | --------- | ------------------------------------------------------ |
| access_token   | string    | The access token that was revoked                      |
| application_id | snowflake | The OAuth2 application whose authorization was revoked |

### Presence

#### Presence Update

This event is sent when a user's presence or info, such as name or avatar, is updated. The inner payload is a [presence](/resources/presence#presence-object) object.

For user accounts, this event is only sent for presences they are subscribed to. Users are automatically subscribed to the overall user presence and every per-guild presence of [friends and implicit relationships](/resources/relationships#relationship-object) (depending on the `NO_AFFINE_USER_IDS` [Gateway capability](/topics/gateway#gateway-capabilities)), as well as every per-guild presences of users they have an open DM with.

<Alert type="warn">

If you are using [Gateway Intents](/topics/gateway#gateway-intents), you _must_ specify the `GUILD_PRESENCES` intent in order to receive Presence Update events.

</Alert>

<Alert type="warn">

Presence Update events are never received for the user's own presence. You _must_ track your own presence locally, or via the [Sessions Replace](#sessions-replace) event.

</Alert>

<Alert type="warn">

The `user` object within this event can be very partial. The only field which is guaranteed is the `id` field, everything else is optional.
Along with this limitation, no fields are required, and the types of the fields are **not** validated. Your client should expect any combination of fields and types within this event.

</Alert>

### Quests

#### Quests User Status Update

Sent when a user's quest status is updated.

###### Quests User Status Update Structure

| Field       | Type                                                                   | Description               |
| ----------- | ---------------------------------------------------------------------- | ------------------------- |
| user_status | [quest user status](/resources/quests#quest-user-status-object) object | The user's quest progress |

#### Quests User Completion Update

Sent when a user's quest completion eligibility is updated.

###### Quests User Completion Update Structure

| Field                          | Type               | Description                              |
| ------------------------------ | ------------------ | ---------------------------------------- |
| quest_enrollment_blocked_until | ?ISO8601 timestamp | When the user can enroll in quests again |

### Relationships

###### Partial Relationship Structure

| Field             | Type              | Description                                                                                                                  |
| ----------------- | ----------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| id                | snowflake         | The ID of the target user                                                                                                    |
| type              | integer           | The [type](/resources/relationships#relationship-type) of relationship                                                       |
| nickname          | ?string           | The nickname of the user in this relationship (1-32 characters)                                                              |
| since?            | ISO8601 timestamp | When the user requested a relationship                                                                                       |
| stranger_request? | boolean           | Whether the friend request was sent by a user without a mutual friend or small mutual guild (default false)                  |
| user_ignored      | boolean           | Whether the target user has been [ignored](https://support.discord.com/hc/en-us/articles/28084948873623) by the current user |

#### Relationship Add

Sent when a relationship is created, relevant to the current user. Inner payload is a [relationship](/resources/relationships#relationship-object) object.

###### Relationship Add Structure Extra Fields

| Field          | Type    | Description                                                               |
| -------------- | ------- | ------------------------------------------------------------------------- |
| should_notify? | boolean | Whether the client should notify the user of this relationship's creation |

#### Relationship Update

Sent when a relationship is updated, relevant to the current user (e.g. friend nickname changed). Inner payload is a [partial relationship](#partial-relationship-structure) object.

<Alert type="warn">

This is not sent when the type of a relationship changes; see [Relationship Add](#relationship-add) for that.

</Alert>

#### Relationship Remove

Sent when a relationship is removed, relevant to the current user. Inner payload is a [partial relationship](#partial-relationship-structure) object.

#### Game Relationship Add

Sent when a game relationship is created, relevant to the current user. Inner payload is a [game relationship](/resources/relationships#game-relationship-object) object.

#### Game Relationship Remove

Sent when a game relationship is removed, relevant to the current user.

###### Game Relationship Remove Structure

| Field          | Type              | Description                                                                         |
| -------------- | ----------------- | ----------------------------------------------------------------------------------- |
| id             | string            | The ID of the target user                                                           |
| application_id | snowflake         | The ID of the application whose game the relationship originated from               |
| type           | integer           | The [type](/resources/relationships#game-relationship-type) of relationship         |
| since          | ISO8601 timestamp | When the user requested a relationship                                              |
| dm_access_type | integer           | The [DM access level](/resources/relationships#dm-access-type) for the relationship |
| user_id        | snowflake         | The ID of the current user                                                          |

### Lobbies

#### Gateway Lobby Object

[Lobby](/resources/lobby#lobby-object) objects received over the Gateway have extended attributes that are not provided in the REST API.

###### Gateway Lobby Structure Extra Fields

| Field        | Type                                                                   | Description                                                                          |
| ------------ | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| voice_states | array[[lobby voice state](/resources/voice#voice-state-object) object] | The voice states of the users already in the lobby                                   |
| region       | string                                                                 | The [voice region](/resources/voice#voice-region-object) ID the lobby is hosted from |
| metadata     | ?map[string, string]                                                   | The metadata of the lobby                                                            |

###### Lobby Deletion Reason

| Value   | Description           |
| ------- | --------------------- |
| deleted | The lobby was deleted |
| removed | The user was removed  |

#### Lobby Create

Sent when a lobby is updated. The inner payload is a [gateway lobby](#gateway-lobby-object) object.

#### Lobby Update

Sent when a lobby is updated. The inner payload is a [gateway lobby](#gateway-lobby-object) object.

#### Lobby Delete

Sent when a lobby is deleted or the user is removed from a lobby.

###### Lobby Delete Structure

| Field  | Type      | Description                                         |
| ------ | --------- | --------------------------------------------------- |
| id     | snowflake | The ID of the lobby                                 |
| reason | string    | The [lobby deletion reason](#lobby-deletion-reason) |

#### Lobby Member Add

Sent when an user joins a lobby.

###### Lobby Member Add Structure

| Field          | Type                                                        | Description                                      |
| -------------- | ----------------------------------------------------------- | ------------------------------------------------ |
| member         | [lobby member](/resources/lobby#lobby-member-object) object | The added member                                 |
| lobby_id       | snowflake                                                   | The ID of the lobby                              |
| application_id | snowflake                                                   | The ID of the application that created the lobby |

#### Lobby Member Connect

Sent when an user joins a lobby call.

###### Lobby Member Connect Structure

| Field    | Type                                                        | Description                       |
| -------- | ----------------------------------------------------------- | --------------------------------- |
| member   | [lobby member](/resources/lobby#lobby-member-object) object | The member that joined lobby call |
| lobby_id | snowflake                                                   | The ID of the lobby               |

#### Lobby Member Disconnect

Sent when an user leaves a lobby call.

###### Lobby Member Disconnect Structure

| Field    | Type                                                        | Description                     |
| -------- | ----------------------------------------------------------- | ------------------------------- |
| member   | [lobby member](/resources/lobby#lobby-member-object) object | The member that left lobby call |
| lobby_id | snowflake                                                   | The ID of the lobby             |

#### Lobby Member Update

Sent when a lobby member is updated.

###### Lobby Member Update Structure

| Field          | Type                                                        | Description                                      |
| -------------- | ----------------------------------------------------------- | ------------------------------------------------ |
| member         | [lobby member](/resources/lobby#lobby-member-object) object | The updated member                               |
| lobby_id       | snowflake                                                   | The ID of the lobby                              |
| application_id | snowflake                                                   | The ID of the application that created the lobby |

#### Lobby Member Remove

Sent when a lobby member is removed.

###### Lobby Member Remove Structure

| Field          | Type                                                        | Description                                      |
| -------------- | ----------------------------------------------------------- | ------------------------------------------------ |
| member         | [lobby member](/resources/lobby#lobby-member-object) object | The removed member                               |
| lobby_id       | snowflake                                                   | The ID of the lobby                              |
| application_id | snowflake                                                   | The ID of the application that created the lobby |

#### Lobby Message Create

Sent when a lobby message is created. The inner payload is a [message](/resources/message#message-object) object with the [extra structure](#message-object-extra-fields) above.

<Alert type="warn">

When the lobby does not have a channel linked, the message will be a partial [message](/resources/message#message-object) object.

</Alert>

#### Lobby Message Update

Sent when a lobby message is updated. The inner payload is a [message](/resources/message#message-object) object with the [extra structure](#message-object-extra-fields) above.

<Alert type="warn">

When the lobby does not have a channel linked, the message will be a partial [message](/resources/message#message-object) object.

</Alert>

<Alert type="warn">

The value for `tts` will always be `false` in message updates.

</Alert>

#### Lobby Message Delete

Sent when a lobby message is deleted.

###### Message Delete Structure

| Field    | Type      | Description           |
| -------- | --------- | --------------------- |
| id       | snowflake | The ID of the message |
| lobby_id | snowflake | The ID of the lobby   |

#### Lobby Voice State Update

Sent when someone joins/leaves/moves lobbies. Inner payload is a [lobby voice state](/resources/voice#voice-state-object) object.

#### Lobby Voice Server Update

Sent when a lobby's voice server is updated. This is sent when initially connecting to voice, and when the current voice instance fails over to a new server.

<Alert type="warn">

A `null` endpoint means that the voice server allocated has gone away and is trying to be reallocated. You should attempt to disconnect from the currently connected voice server, and not attempt to reconnect until a new voice server is allocated.

</Alert>

###### Lobby Voice Server Update Structure

| Field    | Type      | Description                               |
| -------- | --------- | ----------------------------------------- |
| token    | string    | The voice connection token                |
| lobby_id | snowflake | The lobby this voice server update is for |
| endpoint | ?string   | The voice server host                     |

###### Example Lobby Voice Server Update Payload

```json
{
  "token": "66d29164ee8cd919",
  "lobby_id": "41771983423143937",
  "endpoint": "smart.loyal.discord.media:443"
}
```

### Saved Messages

#### Saved Message Create

Sent when a message is saved. The inner payload is a [saved message](/resources/user#saved-message-structure) object.

#### Saved Message Delete

Sent when a message is unsaved.

###### Saved Message Delete Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| channel_id | snowflake | The ID of the channel |
| message_id | snowflake | The ID of the message |

### Sessions

#### Sessions Replace

Sent when the current user's session list or presence is updated. The inner payload is a list of [session](/resources/presence#session-object) objects.

### Stage Instances

#### Stage Instance Create

Sent when a [stage instance](/resources/stage-instance) is created (i.e. the stage is now "live"). The inner payload is a [stage instance](/resources/stage-instance#stage-instance-object) object.

#### Stage Instance Update

Sent when a [stage instance](/resources/stage-instance) is updated. The inner payload is a [stage instance](/resources/stage-instance#stage-instance-object) object.

#### Stage Instance Delete

Sent when a [stage instance](/resources/stage-instance) is deleted (i.e. the stage has been closed). The inner payload is a [stage instance](/resources/stage-instance#stage-instance-object) object.

### Streams

#### Stream Object

###### Stream Structure

| Field             | Type      | Description                                                            |
| ----------------- | --------- | ---------------------------------------------------------------------- |
| stream_key        | string    | The [stream key](#stream-key)                                          |
| rtc_server_id ^1^ | snowflake | The ID of the RTC server for the stream, used when connecting to voice |
| region            | string    | The voice region the stream is in                                      |
| viewer_ids        | array     | The IDs of the viewers currently watching the stream                   |
| paused            | boolean   | Whether the stream is paused                                           |

^1^ Only present in [Stream Create](#stream-create) Gateway events.

###### Stream Key

The stream key is a unique identifier for a stream, represented as a colon-delimited list of values. The first value is the type of stream, followed by the location of the stream, and finally the owner of the stream.

###### Stream Key Structure

| Field       | Type      | Description                             |
| ----------- | --------- | --------------------------------------- |
| type        | string    | The [type of stream](#stream-type)      |
| guild_id?   | snowflake | The ID of the guild being streamed to   |
| channel_id? | snowflake | The ID of the channel being streamed to |
| owner_id    | snowflake | The ID of the user who owns the stream  |

###### Stream Type

| Value | Description                                                               |
| ----- | ------------------------------------------------------------------------- |
| guild | A stream in a guild voice channel                                         |
| call  | A stream in a DM call                                                     |
| test  | A stream used for speed tests; not encountered in regular stream contexts |

###### Example Stream Key

```md
- guild:839502008108580904:850360749460553769:852892297661906993
- call:1110739331624210483:852892297661906993
- test:852892297661906993
```

###### Example Stream

```json
{
  "stream_key": "call:1110739331624210483:852892297661906993",
  "rtc_server_id": "1278201813102755892",
  "region": "us-east",
  "viewer_ids": ["193696591125807105"],
  "paused": false
}
```

#### Stream Create

Sent when a stream is created. The inner payload is a [stream](#stream-object) object.

#### Stream Server Update

Sent when a stream's voice server is updated. This is sent when initially connecting to a stream, and when the current stream instance fails over to a new server.

<Alert type="warn">

A `null` endpoint means that the voice server allocated has gone away and is trying to be reallocated. You should attempt to disconnect from the currently connected voice server, and not attempt to reconnect until a new voice server is allocated.

</Alert>

###### Stream Server Update Structure

| Field      | Type    | Description                |
| ---------- | ------- | -------------------------- |
| token      | string  | The voice connection token |
| stream_key | string  | The stream key             |
| endpoint   | ?string | The voice server host      |

###### Example Stream Server Update

```json
{
  "token": "91f8016f34a5cd17",
  "stream_key": "call:1110739331624210483:852892297661906993",
  "guild_id": null,
  "endpoint": "smart.loyal.discord.media:443"
}
```

#### Stream Update

Sent when a stream is updated. The inner payload is a [stream](#stream-object) object.

#### Stream Delete

Sent when a stream is deleted, or becomes unavailable due to an outage.

###### Stream Delete Structure

| Field        | Type    | Description                                               |
| ------------ | ------- | --------------------------------------------------------- |
| stream_key   | string  | The stream key                                            |
| reason       | string  | The [reason for ending the stream](#stream-delete-reason) |
| unavailable? | boolean | Whether the stream is unavailable due to an outage        |

###### Stream Delete Reason

| Value                     | Description                                            |
| ------------------------- | ------------------------------------------------------ |
| user_requested            | The user requested to end the stream                   |
| stream_ended              | The client was disconnected because the stream ended   |
| stream_full               | The client attempted to join a full stream             |
| unauthorized              | The client is not authorized to view the stream        |
| safety_guild_rate_limited | The stream was rate limited due to guild restrictions  |
| parse_failed              | Parsing the stream key failed                          |
| invalid_channel           | The provided channel is not valid for this stream type |

###### Example Stream Delete

```json
{
  "stream_key": "call:1110739331624210483:852892297661906993",
  "reason": "stream_ended"
}
```

### Typing

#### Typing Start

Sent when a user starts typing in a channel.

###### Typing Start Structure

| Field      | Type                                                  | Description                                               |
| ---------- | ----------------------------------------------------- | --------------------------------------------------------- |
| channel_id | snowflake                                             | id of the channel                                         |
| guild_id?  | snowflake                                             | id of the guild                                           |
| user_id    | snowflake                                             | id of the user                                            |
| timestamp  | integer                                               | unix time (in seconds) of when the user started typing    |
| member?    | [member](/resources/guild#guild-member-object) object | the member who started typing if this happened in a guild |

### Current User

#### User Update

Sent when properties about the current user change. Inner payload is a [user](/resources/user#user-object) object.

#### User Application Update

Sent when an integrated application is authorized or updated.

###### User Application Remove Structure

| Field          | Type      | Description               |
| -------------- | --------- | ------------------------- |
| application_id | snowflake | The ID of the application |

#### User Application Remove

Sent when the current user deauthorizes an integrated application.

###### User Application Remove Structure

| Field          | Type      | Description               |
| -------------- | --------- | ------------------------- |
| application_id | snowflake | The ID of the application |

#### User Connections Update

Sent when the current user has their connections updated. Inner payload is either a [connection](/resources/connected-accounts#connection-object) object, or the following object:

###### User Connections Update Structure

| Field   | Type      | Description                |
| ------- | --------- | -------------------------- |
| user_id | snowflake | The ID of the current user |

#### User Guild Settings Update

Sent when a guild's user settings are updated. Inner payload is [user guild settings](/resources/user-settings#user-guild-settings-object) object.

#### User Merge Operation Completed

Sent when the current user has their account merged with a provisional account. When this is sent, the following has occured:

- Relationships from the provisional account have been moved to the current user.
- Game relationships from the provisional account have been moved to the current user.
- Lobby memberships from the provisional account have been moved to the current user.
- DMs from the provisional account have been migrated to the current user. If there is a conflict, a group DM is created.
- Users that have blocked the provisional account now block the current user.

###### User Merge Operation Completed Structure

| Field              | Type      | Description                                |
| ------------------ | --------- | ------------------------------------------ |
| merge_operation_id | snowflake | The ID of the merge operation              |
| source_user_id     | snowflake | The ID of the account that was merged with |

#### User Note Update

Sent when a note the current user has on another user is modified.

###### User Note Update Structure

| Field | Type      | Description               |
| ----- | --------- | ------------------------- |
| id    | snowflake | The ID of the user        |
| note  | string    | The new note for the user |

#### User Settings Proto Update

Sent when the client protobuf user settings are modified.

###### User Settings Proto Update Structure

| Field    | Type                                                         | Description                                                                                 |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------- |
| settings | [user settings proto](#user-settings-proto-structure) object | The new user settings                                                                       |
| partial  | boolean                                                      | Whether the settings update is partial (should be merged with the existing cached settings) |

###### User Settings Proto Structure

| Field | Type    | Description                                                                          |
| ----- | ------- | ------------------------------------------------------------------------------------ |
| type  | integer | The [type of user settings](/resources/user-settings-proto#user-settings-proto-type) |
| proto | string  | The base 64-encoded serialized user settings protobuf                                |

#### User Settings Update

Sent when the client user settings are modified. Inner payload is a [user settings](/resources/user-settings#user-settings-object) object.

<Alert type="info">

This event is not sent when using the `USER_SETTINGS_PROTO` [Gateway capability](/topics/gateway#gateway-capabilities).

</Alert>

#### User Required Action Update

Sent when a user must complete a certain action (such as verifying their phone number) before continuing to use Discord.

###### User Required Action Update Structure

| Field           | Type    | Description                                                                                                                                               |
| --------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| required_action | ?string | The [action a user is required to take](/resources/user#required-action-type) before continuing to use Discord, `null` if an action is no longer required |

### Voice

#### Voice State Update

Sent when someone joins/leaves/moves voice channels or calls. Inner payload is a [voice state](/resources/voice#voice-state-object) object.

#### Voice Server Update

Sent when a guild or call's voice server is updated. This is sent when initially connecting to voice, and when the current voice instance fails over to a new server.

<Alert type="warn">

A `null` endpoint means that the voice server allocated has gone away and is trying to be reallocated. You should attempt to disconnect from the currently connected voice server, and not attempt to reconnect until a new voice server is allocated.

</Alert>

###### Voice Server Update Structure

| Field       | Type       | Description                                         |
| ----------- | ---------- | --------------------------------------------------- |
| token       | string     | The voice connection token                          |
| guild_id    | ?snowflake | The guild this voice server update is for           |
| channel_id? | snowflake  | The private channel this voice server update is for |
| endpoint    | ?string    | The voice server host                               |

###### Example Voice Server Update Payload

```json
{
  "token": "66d29164ee8cd919",
  "guild_id": "41771983423143937",
  "endpoint": "smart.loyal.discord.media:443"
}
```

#### Voice Channel Effect Send

Sent when someone sends an effect, such as an emoji reaction or a soundboard sound, in a voice channel the current user is connected to.

###### Voice Channel Effect Send Structure

| Field          | Type                                                   | Description                                                                         |
| -------------- | ------------------------------------------------------ | ----------------------------------------------------------------------------------- |
| channel_id     | snowflake                                              | The ID of the channel the effect was sent in                                        |
| guild_id       | snowflake                                              | The ID of the guild the effect was sent in                                          |
| user_id        | snowflake                                              | The ID of the user who sent the effect                                              |
| animation_type | ?integer                                               | The [type of emoji animation](/resources/voice#voice-channel-effect-animation-type) |
| animation_id   | integer                                                | The ID of the emoji animation (0-20)                                                |
| emoji          | ?partial [emoji](/resources/emoji#emoji-object) object | The emoji sent, if applicable                                                       |
| sound_id?      | snowflake                                              | The ID of the soundboard sound                                                      |
| sound_volume?  | float                                                  | The volume of the soundboard sound (represented as a float from 0 to 1)             |

###### Example Voice Channel Effect Send Payload

```json
{
  "guild_id": "839502008108580904",
  "animation_id": 0,
  "animation_type": 1,
  "channel_id": "850360749460553769",
  "emoji": {
    "animated": false,
    "id": null,
    "name": "🦆"
  },
  "sound_id": 1,
  "sound_volume": 1,
  "user_id": "852892297661906993"
}
```

### Webhooks

#### Webhooks Update

Sent when a guild channel's webhook is created, updated, or deleted.

###### Webhooks Update Structure

| Field      | Type      | Description           |
| ---------- | --------- | --------------------- |
| guild_id   | snowflake | The ID of the guild   |
| channel_id | snowflake | The ID of the channel |

### Interactions

#### Interaction Create

Sent when a user uses an [Application Command](/interactions/application-commands/) or [Message Component](/resources/components). Inner payload is an [Interaction](/interactions/receiving-and-responding#interaction-structure).
