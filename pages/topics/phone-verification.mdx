# Phone Verification

TBD

## Endpoints

<RouteHeader method="DELETE" url="/users/@me/phone">
  Remove Phone
</RouteHeader>

Removes phone from the current user. Returns a 204 empty response on success. Fires a [User Update](/topics/gateway-events#user-update) and optionally [User Required Action Update](/topics/gateway-events#user-required-action-update) Gateway event.

###### JSON Params

| Field               | Type   | Description                                |
| ------------------- | ------ | ------------------------------------------ |
| password            | string | The user's password                        |
| change_phone_reason | string | The [removal reason](#change-phone-reason) |

<RouteHeader method="POST" url="/phone-verifications/resend" unauthenticated>
  Resend Verification Code
</RouteHeader>

Resends the verification code. Returns a 204 empty response on success.

###### JSON Params

| Field | Type   | Description                                      |
| ----- | ------ | ------------------------------------------------ |
| phone | string | The E.164-formatted phone number to send code to |

<RouteHeader method="POST" url="/users/@me/phone">
  Add Phone
</RouteHeader>

Adds the phone. Returns a 204 empty response on success. If `phone` is provided, this begins the verification process, otherwise `phone_token` and `password` are required.
If `phone_token` is provided, fires a [User Update](/topics/gateway-events#user-update) and optionally [User Required Action Update](/topics/gateway-events#user-required-action-update) Gateway event.

###### JSON Params

| Field               | Type   | Description                                                    |
| ------------------- | ------ | -------------------------------------------------------------- |
| password?           | string | The user's password                                            |
| phone?              | string | The E.164-formatted phone number to use                        |
| phone_token?        | string | The token received from [verify phone](#verify-phone) endpoint |
| change_phone_reason | string | The [reason](#change-phone-reason) for adding phone number     |

<RouteHeader method="POST" url="/users/@me/phone/reverify">
  Reverify Phone
</RouteHeader>

Reverifies the phone. Returns a 204 empty response on success. If `phone` is provided, this starts the verification process again, otherwise `phone_token` and `password` are required.
If `phone_token` is provided, fires a [User Update](/topics/gateway-events#user-update) and optionally [User Required Action Update](/topics/gateway-events#user-required-action-update) Gateway event.

###### JSON Params

| Field               | Type   | Description                                                    |
| ------------------- | ------ | -------------------------------------------------------------- |
| password?           | string | The user's password                                            |
| phone?              | string | The E.164-formatted phone number to use                        |
| phone_token?        | string | The token received from [verify phone](#verify-phone) endpoint |
| change_phone_reason | string | The [reason](#change-phone-reason) for changing phone number   |

<RouteHeader method="POST" url="/phone-verifications/verify" unauthenticated>
  Verify Phone
</RouteHeader>

Verifies the phone.

###### JSON Params

| Field | Type   | Description                                |
| ----- | ------ | ------------------------------------------ |
| phone | string | The E.164-formatted phone number to verify |
| code  | string | The code received from SMS message         |

###### Response Body

| Field | Type   | Description                 |
| ----- | ------ | --------------------------- |
| token | string | The token used to add phone |

###### Change Phone Reason

| Value                | Description                                |
| -------------------- | ------------------------------------------ |
| user_action_required | The phone is added for anti-abuse purposes |
| user_settings_update | The phone is added from user settings      |
| guild_phone_required | The phone is added to participate in guild |
| mfa_phone_update     | The phone is adedd for MFA via SMS         |
| contact_sync         | The phone is added to sync contacts        |
