# Subscriptions

TBD

### Premium Guild Subscription Object

Represents a member's premium guild subscription ([boost](https://support.discord.com/hc/en-us/sections/360007875211-Server-Boosting)).

###### Premium Guild Subscription Structure

| Field         | Type                                               | Description                                                                                      |
| ------------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| id            | snowflake                                          | The ID of the premium guild subscription                                                         |
| guild_id      | snowflake                                          | The ID of the guild this subscription is for                                                     |
| user_id       | snowflake                                          | The ID of the user who created this premium guild subscription                                   |
| ended         | boolean                                            | If this premium guild subscription has ended                                                     |
| ends_at?      | ISO8601 timestamp                                  | When this premium guild subscription will expire                                                 |
| pause_ends_at | ?ISO8601 timestamp                                 | When the user's overall subscription pause will end, reactivating the premium guild subscription |
| user          | partial [user](/resources/user#user-object) object | The user this premium guild subscription is for                                                  |

###### Example Premium Guild Subscription

```json
{
  "id": "1315132642890350602",
  "user_id": "673658900435697665",
  "guild_id": "1081635484209520802",
  "ended": false,
  "pause_ends_at": null,
  "user": {
    "id": "673658900435697665",
    "username": "android",
    "global_name": "Android",
    "avatar": "08f104f8d5406c4d46916794fe2efeb7",
    "avatar_decoration_data": {
      "asset": "a_8552f9857793aed0cf816f370e2df3be",
      "sku_id": "1232071712695386162",
      "expires_at": null
    },
    "collectibles": null,
    "discriminator": "0",
    "public_flags": 4194560,
    "primary_guild": null,
    "clan": null
  }
}
```

### Premium Guild Subscription Slot Object

Represents a premium guild subscription slot.

###### Premium Guild Subscription Slot Structure

| Field                      | Type                                                                     | Description                                                     |
| -------------------------- | ------------------------------------------------------------------------ | --------------------------------------------------------------- |
| id                         | snowflake                                                                | The ID of the premium guild subscription slot                   |
| subscription_id            | snowflake                                                                | The ID of the subscription                                      |
| canceled                   | boolean                                                                  | Whether the premium guild subscription slot was canceled        |
| cooldown_ends_at           | ?string                                                                  | When the cooldown for this premium guild subscription slot ends |
| premium_guild_subscription | ?[premium guild subscription](#premium-guild-subscription-object) object | The premium guild subscription, if the slot was already applied |

###### Example Premium Guild Subscription Slot

```json
{
  "id": "1",
  "subscription_id": "2",
  "canceled": false,
  "cooldown_ends_at": null,
  "premium_guild_subscription": {
    "id": "1",
    "user_id": "1",
    "guild_id": "1",
    "ended": false,
    "pause_ends_at": null,
    "user": {
      "id": "1",
      "username": "android",
      "global_name": "Android",
      "avatar": "08f104f8d5406c4d46916794fe2efeb7",
      "avatar_decoration_data": {
        "asset": "a_8552f9857793aed0cf816f370e2df3be",
        "sku_id": "1232071712695386162",
        "expires_at": null
      },
      "collectibles": null,
      "discriminator": "0",
      "public_flags": 4194560,
      "primary_guild": null,
      "clan": null
    }
  }
}
```

## Endpoints

<RouteHeader method="GET" url="/guilds/{guild.id}/premium/subscriptions">
  Get Premium Guild Subscriptions
</RouteHeader>

Returns a list of [premium guild subscription](#premium-guild-subscription-object) objects for the guild. User must be a member of the guild.

<RouteHeader method="PUT" url="/guilds/{guild.id}/premium/subscriptions">
  Add Premium Guild Subscriptions
</RouteHeader>

Adds premium guild subscriptions to the given guild. Fires [Guild Update](/topics/gateway-events#guild-update), optionally [Message Create](/topics/gateway-events#message-create), optionally [Guild Member Update](/topics/gateway-events#guild-member-update), and multiple [User Premium Guild Subscription Slot Update](/topics/gateway-events#user-premium-guild-subscription-slot-update) and [Guild Applied Boosts Update](/topics/gateway-events#guild-applied-boosts-update) Gateway events.

###### JSON Params

| Field                                    | Type             | Description                                      |
| ---------------------------------------- | ---------------- | ------------------------------------------------ |
| user_premium_guild_subscription_slot_ids | array[snowflake] | The premium guild subscription slot IDs to apply |
| disable_powerup_auto_apply?              | boolean          | Whether to disable auto-applying powerups        |

<RouteHeader method="DELETE" url="/guilds/{guild.id}/premium/subscriptions/{premium_guild_subscription.id}">
  Delete Premium Guild Subscription
</RouteHeader>

Deletes a premium guild subscription. Returns a 204 empty response on success. Fires a [User Premium Guild Subscription Slot Delete](/topics/gateway-events#user-premium-guild-subscription-slot-delete), [Guild Update](/topics/gateway-events#guild-update), [Guild Applied Boosts Update](/topics/gateway-events#guild-applied-boosts-update) and optionally [Guild Member Update](/topics/gateway-events#guild-member-update) Gateway events.

<RouteHeader method="GET" url="/users/@me/guilds/premium/subscriptions/cooldown">
  Get Premium Guild Subscription Cooldown
</RouteHeader>

Returns the cooldown for premium guild subscriptions.

###### Response Body

| Field     | Type              | Description                                                                   |
| --------- | ----------------- | ----------------------------------------------------------------------------- |
| ends_at   | ISO8601 timestamp | When the cooldown resets                                                      |
| limit     | integer           | The maximum number of changes that can be made before the cooldown is applied |
| remaining | integer           | The number of changes remaining before the cooldown is applied                |

<RouteHeader method="GET" url="/users/@me/guilds/premium/subscriptions">
  Get Applied Premium Guild Subscriptions
</RouteHeader>

Returns a list of [premium guild subscription](#premium-guild-subscription-object) objects applied by the current user.

###### Query String Params

| Field   | Type    | Description                                                               |
| ------- | ------- | ------------------------------------------------------------------------- |
| paused? | boolean | Whether to return only paused premium guild subscriptions (default false) |

<RouteHeader method="GET" url="/users/@me/guilds/premium/subscription-slots">
  Get Premium Guild Subscription Slots
</RouteHeader>

Returns a list of [premium guild subscription slot](#premium-guild-subscription-slot-object) objects for the current user.

<RouteHeader
  method="POST"
  url="/users/@me/guilds/premium/subscription-slots/{premium_guild_subscription_slot.id}/cancel"
>
  Cancel Premium Guild Subscription Slot
</RouteHeader>

Cancels the given premium guild subscription slot. Returns the canceled [premium guild subscription slot](#premium-guild-subscription-slot-object) object. Fires [User Premium Guild Subscription Slot Update](/topics/gateway-events#user-premium-guild-subscription-slot-update) and [Guild Applied Boosts Update](/topics/gateway-events#guild-applied-boosts-update) Gateway event.

<RouteHeader
  method="POST"
  url="/users/@me/guilds/premium/subscription-slots/{premium_guild_subscription_slot.id}/uncancel"
>
  Uncancel Premium Guild Subscription Slot
</RouteHeader>

Uncancels the given premium guild subscription slot. Returns the uncanceled [premium guild subscription slot](#premium-guild-subscription-slot-object) object. Fires [User Premium Guild Subscription Slot Update](/topics/gateway-events#user-premium-guild-subscription-slot-update) Gateway event.

<RouteHeader method="PATCH" url="/debug/applied-boosts/{premium_guild_subscription.id}/ends-at">
  Modify Premium Guild Subscription End
</RouteHeader>

Modifies end timestamp for the given premium guild subscription. Returns a 204 empty response on success.

<Alert type="warn">

This endpoint is only usable by Discord employees.

</Alert>

###### JSON Params

| Field    | Type              | Description                                       |
| -------- | ----------------- | ------------------------------------------------- |
| ends_at? | ISO8601 timestamp | When the premium guild subscription should end at |
