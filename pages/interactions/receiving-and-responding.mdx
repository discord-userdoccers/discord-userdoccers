---
name: Receiving & Responding
---

# Interactions

An [interaction](#interaction-object) is the message that your application receives when an user uses an application command, triggers a message component, or submits a modal.

For [Slash Commands](/interactions/application-commands#slash-commands), it includes the values that the user submitted.

For [User Commands](/interactions/application-commands#user-commands) and [Message Commands](/interactions/application-commands#message-commands), it includes the resolved user or message on which the action was taken.

For [Message Components](/resources/components) it includes identifying information about the component that was used. It will also include some metadata about how the interaction was triggered: the `guild_id`, `channel_id`, `member` and other fields. You can find all the values in data models below.

### Interaction Object

###### Interaction Structure

| Field                                | Type                                                                   | Description                                                                                                       |
| ------------------------------------ | ---------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| id                                   | snowflake                                                              | The ID of the interaction                                                                                         |
| application_id                       | snowflake                                                              | The ID of the application this interaction is for                                                                 |
| type                                 | integer                                                                | The [type of the interaction](#interaction-type)                                                                  |
| data? ^1^                            | object                                                                 | The interaction data, depending on interaction type                                                               |
| guild?                               | [interaction guild](#interaction-guild-structure)                      | The guild the interaction was created in                                                                          |
| guild_id?                            | snowflake                                                              | The ID of the guild the interaction was created in                                                                |
| channel?                             | partial [channel](/resources/channel#channel-object)                   | The channel it was sent from                                                                                      |
| channel_id?                          | snowflake                                                              | The ID of the channel it was sent from                                                                            |
| member? ^2^                          | [guild member](/resources/guild#guild-member-object) object            | The guild member representing the invoking user                                                                   |
| user? ^2^                            | partial [user](/resources/user#user-object) object                     | The invoking user                                                                                                 |
| token                                | string                                                                 | The continuation token for responding to the interaction                                                          |
| version                              | integer                                                                | The [interactions system version](/resources/application#application-interactions-version) (currently 1)          |
| message? ^4^                         | [message](/resources/message#message-object) object                    | The message the components are attached to                                                                        |
| app_permissions                      | string                                                                 | The permissions the application has in the source location of the interaction                                     |
| locale?                              | string                                                                 | The [language option](/reference#locales) of the invoking user                                                    |
| guild_locale?                        | string                                                                 | The [preferred locale](/reference#locales) of the guild                                                           |
| entitlements                         | array[[entitlement](/resources/entitlement#entitlement-object) object] | The entitlements for the invoking user                                                                            |
| entitlement_sku_ids **(deprecated)** | array[snowflake]                                                       | The IDs of the SKUs the entitlements grant access to                                                              |
| authorizing_integration_owners ^3^   | map[integer, snowflake]                                                | The ID of the target for each [application integration type](/resources/application#application-integration-type) |
| context?                             | integer                                                                | The [context the interaction is triggered in](#interaction-context-type)                                          |
| attachment_size_limit                | integer                                                                | The attachment size limit in bytes                                                                                |

^1^ This is always present on non-`PING` interaction types. It is optional for future-proofing against new interaction types.

^2^ `member` is sent only when the interaction is triggered in a guild, and `user` is sent only when triggered in a private channel.

^3^ The value of the [`GUILD_INSTALL`](/resources/application#application-integration-type) key may be `0` if the interaction was not triggered in a guild.

^4^ `message` is sent only when the interaction was triggered from a message component, or the modal submit.

###### Interaction Type

| Value | Name                             | Description                                                           | Data                                                                                           | Sendable Data                                                                                                    |
| ----- | -------------------------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| 1     | PING                             | Discord is pinging the application                                    |                                                                                                |                                                                                                                  |
| 2     | APPLICATION_COMMAND              | User uses an application command                                      | [application command interaction data](#application-command-interaction-data-structure) object | [sendable application command interaction data](#sendable-application-command-interaction-data-structure) object |
| 3     | MESSAGE_COMPONENT                | User triggers a message component                                     | [message component interaction data](#message-component-interaction-data-structure) object     | [sendable message component interaction data](#sendable-message-component-interaction-data-structure) object     |
| 4     | APPLICATION_COMMAND_AUTOCOMPLETE | User is requesting an application command option to be auto-completed | [application command interaction data](#application-command-interaction-data-structure) object | [sendable application command interaction data](#sendable-application-command-interaction-data-structure) object |
| 5     | MODAL_SUBMIT                     | User submits a modal                                                  | [modal submit interaction data](#modal-submit-interaction-data-structure) object               | [sendable modal submit interaction data](#sendable-modal-submit-interaction-data-structure) object               |

###### Interaction Context Type

| Value | Name            | Description                                                             |
| ----- | --------------- | ----------------------------------------------------------------------- |
| 0     | GUILD           | The interaction can be triggered within guilds                          |
| 1     | BOT_DM          | The interaction can be triggered within DM channel with the application |
| 2     | PRIVATE_CHANNEL | The interaction can be triggered in all DM and group channels           |

###### Interaction Guild Structure

| Field    | Type          | Description                                               |
| -------- | ------------- | --------------------------------------------------------- |
| id       | snowflake     | The ID of the guild                                       |
| features | array[string] | Enabled [guild features](/resources/guild#guild-features) |
| locale   | string        | The [preferred locale](/reference#locales) of the guild   |

###### Application Command Interaction Data Structure

| Field            | Type                                                                                                                                | Description                                                                                        |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| id               | snowflake                                                                                                                           | The ID of the application command                                                                  |
| name             | string                                                                                                                              | The name of the application command                                                                |
| type             | integer                                                                                                                             | The [type of the application command](/interactions/application-commands#application-command-type) |
| resolved?        | [resolved data](#resolved-data-structure) object                                                                                    | The resolved entities                                                                              |
| options? ^1^ ^3^ | array[partial [application command option](/interactions/application-commands#partial-application-command-option-structure) object] | The options with their values                                                                      |
| guild_id?        | snowflake                                                                                                                           | The ID of the guild that the command is registered to                                              |
| target_id? ^2^   | snowflake                                                                                                                           | The ID of the user or message targeted by a context menu command                                   |

^1^ Only present when the application command type is [`CHAT_INPUT`](/interactions/application-commands#application-command-type).

^3^ Only present when the application command type is [`USER` or `MESSAGE`](/interactions/application-commands#application-command-type).

###### Message Component Interaction Data Structure

| Field          | Type                                      | Description                                                       |
| -------------- | ----------------------------------------- | ----------------------------------------------------------------- |
| values? ^1^    | array[snowflake] \| array[string]         | The values that the user selected in a select menu                |
| resolved? ^1^  | [resolved data](#resolved-data-structure) | The resolved entities                                             |
| id             | integer                                   | The ID of the component                                           |
| custom_id      | string                                    | The developer-defined identifier for the component                |
| component_type | integer                                   | The [type of the component](/resources/components#component-type) |

###### Modal Submit Interaction Data Structure

| Field      | Type                                                              | Description                                   |
| ---------- | ----------------------------------------------------------------- | --------------------------------------------- |
| custom_id  | string                                                            | The developer-defined identifier of the modal |
| components | array[[component](/resources/components#component-object) object] | The submitted values                          |

###### Resolved Data Structure

<Alert type="info">

If data for a member is included, data for its corresponding user will also be included in `users` mapping.

</Alert>

| Field         | Type                                                                          | Description                                                                 |
| ------------- | ----------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| users?        | map[snowflake, partial [user](/resources/user#user-object) object]            | The resolved users                                                          |
| members? ^1^  | map[snowflake, partial [member](/resources/guild#guild-member-object) object] | The resolved members, without the [`user`](/resources/user#user-object) key |
| roles?        | map[snowflake, [role](/resources/guild#role-object) object]                   | The resolved roles                                                          |
| channels? ^2^ | map[snowflake, partial [channel](/resources/channel#channel-object) object]   | The resolved channels                                                       |
| messages? ^3^ | map[snowflake, [message](/resources/message#message-object) object]           | The resolved messages                                                       |

^1^ Member objects will not include `user`, `deaf` and `mute` fields. The user will be in `users` map instead.

^2^ Channels will have only `id`, `name`, `type` and `permissions` fields. Threads will also have `thread_metadata` and `parent_id` fields.

^3^ Only available within [application command interaction data](#application-command-interaction-data-structure) object.

### Message Interaction Object

This is sent on the [message object](/resources/message#message-object) when the message is a response to an interaction without an existing message.

<Alert type="info">

This means responses to [Message Components](/resources/components) do not include this property, instead including a [message reference](/resources/message#message-reference-structure) object as components _always_ exist on preexisting messages.

</Alert>

###### Message Interaction Structure

| Name | Type                                               | Description                                                                                          |
| ---- | -------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| id   | snowflake                                          | The ID of the interaction                                                                            |
| type | integer                                            | The [type of interaction type](#interaction-type)                                                    |
| name | string                                             | The name of the [application command](/interactions/application-commands#application-command-object) |
| user | partial [user](/resources/user#user-object) object | The user who invoked the interaction                                                                 |

## Interactions and Bot Users

We're all used to the way that Discord bots have worked for a long time. You make an application in the Developer Portal, you add a bot user to it, and you copy the token. That token can be used to connect to the Gateway and to make requests against Discord API.

Interactions bring something entirely new to the table: the ability to interact with an application _without needing a bot user in the guild_. As you read through this documentation, you'll see that bot tokens are only referenced as a helpful alternative to doing a client credentials auth flow. Responding to interactions does not require a bot token.

In many cases, you may still need a bot user. If you need to receive Gateway events, or need to interact with other parts of Discord API (like fetching a guild, or a channel, or updating permissions on an user), those actions are all still tied to having a bot token. However, if you don't need any of those things, you never have to add a bot user to your application at all.

Welcome to the new world.

## Receiving an interaction

When a user interacts with your app, your app will receive an [interaction](#interaction-object). Your app can receive an interaction in one of two ways:

- Via [Interaction Create](/topics/gateway-events#interaction-create) Gateway event
- Via outgoing webhook

These two methods are **mutually exclusive**; you can _only_ receive шnteractions one of the two ways. The `INTERACTION_CREATE` [Gateway event](/topics/gateway-events#interaction-create) may be handled by connected clients, while the webhook method detailed below does not require a connected client.

In your application in the Developer Portal, there is a field on the main page called "Interactions Endpoint URL". If you want to receive interactions via outgoing webhook, you can set your URL in this field. In order for the URL to be valid, you must be prepared for two things ahead of time:

<Alert type="info">

These steps are only necessary for webhook-based interactions. It is not required for receiving them over the Gateway.

</Alert>

1. Your endpoint must be prepared to ACK a `PING` message
2. Your endpoint must be set up to properly handle signature headers--more on that in [Security and Authorization](#security-and-authorization)

If either of these are not complete, we will not validate your URL and it will fail to save.

When you attempt to save a URL, we will send a `POST` request to that URL with a `PING` payload. The `PING` payload has a `"type": 1`. So, to properly ACK the payload, return a `200` response with a payload of `"type": 1`:

```py
@app.route('/', methods=['POST'])
def handle_interaction():
    if request.json["type"] == 1:
        return jsonify({
            "type": 1
        })
```

You'll also need to properly set up [Security and Authorization](#security-and-authorization) on your endpoint for the URL to be accepted. Once both of those are complete and your URL has been saved, you can start receiving Interactions via webhook! At this point, your app will **no longer receive Interactions over the gateway**. If you want to receive them over the gateway again, simply delete your URL.

An [interaction](#interaction-object) includes metadata to aid your application in handling it as well as `data` specific to the interaction type. You can find samples for each interaction type on their respective pages:

- [Slash Commands](/interactions/application-commands#example-slash-command-interaction)
- [User Commands](/interactions/application-commands#example-user-command-interaction)
- [Message Commands](/interactions/application-commands#example-message-command-interaction)
- [Message Components](/resources/components)

Now that you've gotten the data from the user, it's time to respond to them.

## Responding to an Interaction

Interactions--both receiving and responding--are webhooks under the hood. So responding to an interaction is just like sending a webhook request!

There are a number of ways you can respond to an interaction:

###### Interaction Response Object

### Interaction Response Structure

| Field | Type    | Description                                                        |
| ----- | ------- | ------------------------------------------------------------------ |
| type  | integer | The [type of the interaction response](#interaction-callback-type) |
| data? | object  | The [data of the interaction response](#interaction-callback-type) |

###### Interaction Callback Type

Depending on the interaction type, not all callback types may be available. See `Allowed by` column for interaction types that allow usage of specific callback type.

| Name                                    | Value | Description                                                                                           | Data                                                                                               | Allowed by                                                                                    |
| --------------------------------------- | ----- | ----------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| PONG                                    | 1     | Acknowledge a [`PING`](#interaction-type) interaction                                                 |                                                                                                    | `PING`                                                                                        |
| CHANNEL_MESSAGE_WITH_SOURCE             | 4     | Respond to an interaction with a message                                                              | [interaction callback message data](#interaction-callback-message-data-structure) object           | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`, `MODAL_SUBMIT`                                    |
| DEFERRED_CHANNEL_MESSAGE_WITH_SOURCE    | 5     | Acknowledge an interaction and send a message later; the user sees a loading state                    | [interaction callback message data](#interaction-callback-message-data-structure) object           | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`, `MODAL_SUBMIT`                                    |
| DEFERRED_UPDATE_MESSAGE                 | 6     | Acknowledge an interaction and edit the original message later; the user does not see a loading state | [interaction callback message data](#interaction-callback-message-data-structure) object           | `MESSAGE_COMPONENT`, `MODAL_SUBMIT` (only when the modal is triggered by a message component) |
| UPDATE_MESSAGE                          | 7     | Edit the message that the interacted component was attached to                                        | [interaction callback message data](#interaction-callback-message-data-structure) object           | `MESSAGE_COMPONENT`, `MODAL_SUBMIT` (only when the modal is triggered by a message component) |
| APPLICATION_COMMAND_AUTOCOMPLETE_RESULT | 8     | Respond to an autocomplete interaction with suggested choices                                         | [interaction callback autocomplete data](#interaction-callback-autocomplete-data-structure) object | `APPLICATION_COMMAND_AUTOCOMPLETE`                                                            |
| MODAL                                   | 9     | Respond to an interaction with a popup modal                                                          | [interaction callback modal data](#interaction-callback-modal-data-structure) object               | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`                                                    |
| PREMIUM_REQUIRED ^1^ **(deprecated)**   | 10    | Respond to an interaction with an upgrade button                                                      |                                                                                                    | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`, `MODAL_SUBMIT`                                    |
| IFRAME_MODAL ^2^                        | 11    | Respond to an interaction with an IFrame modal                                                        | [interaction callback iframe modal data](#interaction-callback-iframe-modal-data-structure) object | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`                                                    |
| LAUNCH_ACTIVITY ^3^                     | 12    | Launch an embedded activity associated with the application                                           |                                                                                                    | `APPLICATION_COMMAND`, `MESSAGE_COMPONENT`, `MODAL_SUBMIT`                                    |

^1^ Only available if the application has access to monetization features.

^2^ Only available if the application has the [`IFRAME_MODAL`](/resources/application#application-flags) flag.

^3^ Only available if the application is an embedded activity.

###### Interaction Callback Message Data Structure

Not all message fields are currently supported.

<Alert type="warn">

While interaction responses and followups are webhooks, they respect @everyone's ability to ping @everyone / @here . Nonetheless if your application responds with user data, you should still use [`allowed_mentions`](/resources/message#allowed-mentions-object) to filter which mentions in the content actually ping. Other differences include the ability to send named links in the message content (`[text](url)`).

</Alert>

| Field             | Type                                                                      | Description                                                                                                                                                             |
| ----------------- | ------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| content?          | string                                                                    | The message contents (up to 2000 characters)                                                                                                                            |
| tts?              | boolean                                                                   | Whether this is a TTS message                                                                                                                                           |
| embeds?           | array[[embed](/resources/message#embed-object) object]                    | Embedded `rich` content (max 6000 characters, max 10)                                                                                                                   |
| allowed_mentions? | [allowed mention](/resources/message#allowed-mentions-object) object      | Allowed mentions for the message                                                                                                                                        |
| components?       | array[[message component](/resources/components#component-object) object] | The components to include with the message                                                                                                                              |
| flags?            | integer                                                                   | The [message's flags](/resources/message#message-flags) (only `SUPPRESS_EMBEDS`, `EPHEMERAL`, `SUPPRESS_NOTIFICATIONS`, `VOICE_MESSAGE`, `IS_COMPONENTS_V2` can be set) |
| attachments? ^1^  | array[partial [attachment](/resources/message#attachment-object) object]  | Partial attachment objects with `filename` and `description` (max 10)                                                                                                   |
| poll?             | [poll create](/resources/message#poll-create-structure) object            | A poll!                                                                                                                                                                 |

###### Interaction Callback Autocomplete Data Structure

| Field   | Type                                                                                                                              | Description                        |
| ------- | --------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------- |
| choices | array[[application command option choice](/interactions/application-commands#application-command-option-choice-structure) object] | The autocompleted choices (max 25) |

###### Interaction Callback Modal Data Structure

| Field          | Type                                                              | Description                                                         |
| -------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------- |
| custom_id      | string                                                            | The developer-defined identifier for the modal (max 100 characters) |
| title          | string                                                            | The title of the modal (max 45 characters)                          |
| components ^1^ | array[[component](/resources/components#component-object) object] | The modal components (1-5)                                          |

^1^ Currently only supports action rows.

###### Interaction Callback IFrame Modal Data Structure

| Field       | Type    | Description                                                                |
| ----------- | ------- | -------------------------------------------------------------------------- |
| iframe_path | string  | The relative URL to the iFrame modal (max 2048 characters)                 |
| title       | string  | The title of the modal (max 45 characters)                                 |
| modal_size  | integer | The [size of the modal](#iframe-modal-size)                                |
| custom_id   | string  | The developer-defined identifier for the Fframe modal (max 100 characters) |

###### IFrame Modal Size

| Value | Name   | Description  |
| ----- | ------ | ------------ |
| 1     | SMALL  | Small modal  |
| 2     | NORMAL | Normal modal |
| 3     | BIG    | Big modal    |

When responding to an interaction received **via webhook**, your server can simply respond to the received `POST` request. You'll want to respond with a `200` status code (if everything went well), as well as specifying a `type` and `data`, which is an [Interaction Response](#interaction-response-object) object:

```py
@app.route('/', methods=['POST'])
def handle_interaction():
    if request.json["type"] == 1:
        return jsonify({
            "type": 1
        })

    return jsonify({
        "type": 4,
        "data": {
            "content": "Congrats on sending your command!",
        }
    })
```

Optionally, you can also return a `204` status code and response to the interaction with a regular HTTP request, as described below.

If you are receiving interactions over the Gateway, you will **also need to respond via HTTP**. Note that responses to interactions **are not sent as commands over the Gateway**.

To respond to an interaction coming from the Gateway, make a `POST` request like this. `interaction_id` is the unique id of that individual interaction from the received payload. `interaction_token` is the unique token for that interaction from the received payload. **This endpoint is only valid for interactions received over the Gateway. Otherwise, respond to the `POST` request to issue an initial response.**

```py
url = f"https://discord.com/api/v10/interactions/{interaction_id}/{interaction_token}/callback"

json = {
    "type": 4,
    "data": {
        "content": "Congrats on sending your command!"
    }
}
r = requests.post(url, json=json)
```

<Alert type="info">

Interaction `tokens` are valid for **15 minutes** and can be used to send followup messages but you **must send an initial response within 3 seconds of receiving the event**. If the 3 second deadline is exceeded, the token will be invalidated.

</Alert>

## Followup Messages

Sometimes, your application will want to send followup messages to a user after responding to an interaction. Or, you may want to edit your original response. Whether you receive interactions over the Gateway or by outgoing webhook, you can use the following endpoints to edit your initial response or send followup messages:

- [`PATCH /webhooks/{application.id}/{interaction.token}/messages/@original`](#modify-original-interaction-response) to edit your initial response to an interaction
- [`DELETE /webhooks/{application.id}/{interaction.token}/messages/@original`](#delete-original-interaction-response) to delete your initial response to an interaction
- [`POST /webhooks/{application.id}/{interaction.token}`](#create-followup-message) to send a new followup message
- [`PATCH /webhooks/{application.id}/{interaction.token}/messages/{message.id}`](#modify-followup-message) to edit a message sent with that `token`

<Alert type="info">

Interaction webhooks share the same rate limit properties as normal webhooks.

</Alert>

Interaction tokens are valid for **15 minutes**, meaning you can respond to an interaction within that amount of time.

## Security and Authorization

The internet is a scary place, especially for people hosting open, unauthenticated endpoints. If you are receiving interactions via outgoing webhook, there are some security steps you **must** take before your app is eligible to receive requests.

Every interaction request is sent with the following headers:

- `X-Signature-Ed25519` as a signature
- `X-Signature-Timestamp` as a timestamp

Using your favorite security library, you **must validate the request each time you receive an [interaction](#interaction-object)**. If the signature fails validation, respond with a `401` error code. Here's a couple code examples:

```js
const nacl = require("tweetnacl");

// Your public key can be found on your application in the Developer Portal
const PUBLIC_KEY = "APPLICATION_PUBLIC_KEY";

const signature = req.get("X-Signature-Ed25519");
const timestamp = req.get("X-Signature-Timestamp");
const body = req.rawBody; // rawBody is expected to be a string, not raw bytes

const isVerified = nacl.sign.detached.verify(
  Buffer.from(timestamp + body),
  Buffer.from(signature, "hex"),
  Buffer.from(PUBLIC_KEY, "hex"),
);

if (!isVerified) {
  return res.status(401).end("invalid request signature");
}
```

```py
from nacl.signing import VerifyKey
from nacl.exceptions import BadSignatureError

# Your public key can be found on your application in the Developer Portal
PUBLIC_KEY = 'APPLICATION_PUBLIC_KEY'

verify_key = VerifyKey(bytes.fromhex(PUBLIC_KEY))

signature = request.headers["X-Signature-Ed25519"]
timestamp = request.headers["X-Signature-Timestamp"]
body = request.data.decode("utf-8")

try:
    verify_key.verify(f'{timestamp}{body}'.encode(), bytes.fromhex(signature))
except BadSignatureError:
    abort(401, 'invalid request signature')
```

If you are not properly validating this signature header, Discord will not allow you to save your interactions URL in the Developer Portal.
Discord will also do automated, routine security checks against your endpoint, including purposefully sending you invalid signatures. If you fail the validation,
Discord will remove your interactions URL in the future and alert you via email and System DM.

## Endpoints

<RouteHeader method="POST" url="/interactions/{interaction.id}/{interaction.token}/callback" unauthenticated>
  Create Interaction Response
</RouteHeader>

Create a response to an interaction from the Gateway. Accepts an [interaction response](#interaction-response-object) object.
This endpoint also supports file attachments similar to the webhook endpoints. Refer to [Uploading Files](/reference#uploading-files) for details on uploading files and `multipart/form-data` requests.

<RouteHeader method="GET" url="/webhooks/{application.id}/{interaction.token}/messages/@original" unauthenticated>
  Get Original Interaction Response
</RouteHeader>

Returns the initial interaction response. Functions the same as [Get Webhook Message](/resources/webhook#get-webhook-message).

<RouteHeader method="PATCH" url="/webhooks/{application.id}/{interaction.token}/messages/@original" unauthenticated>
  Modify Original Interaction Response
</RouteHeader>

Edits the initial interaction response. Functions the same as [Edit Webhook Message](/resources/webhook#edit-webhook-message).

<RouteHeader method="DELETE" url="/webhooks/{application.id}/{interaction.token}/messages/@original" unauthenticated>
  Delete Original Interaction Response
</RouteHeader>

Deletes the initial interaction response. Returns a 204 empty response on success.

<RouteHeader method="POST" url="/webhooks/{application.id}/{interaction.token}" unauthenticated>
  Create Followup Message
</RouteHeader>

Create a followup message for an interaction. Functions the same as [Execute Webhook](/resources/webhook#execute-webhook), but `wait` is always true, and `flags` can have `EPHEMERAL` flag to send an ephemeral message. The `thread_id` query parameter is ignored when using this endpoint for interaction followups.

<RouteHeader method="GET" url="/webhooks/{application.id}/{interaction.token}/messages/{message.id}" unauthenticated>
  Get Followup Message
</RouteHeader>

Returns a followup message for an interaction. Functions the same as [Get Webhook Message](/resources/webhook#get-webhook-message). Does not support ephemeral followups.

<RouteHeader method="PATCH" url="/webhooks/{application.id}/{interaction.token}/messages/{message.id}" unauthenticated>
  Modify Followup Message
</RouteHeader>

Edits a followup message for an interaction. Functions the same as [Edit Webhook Message](/resources/webhook#edit-webhook-message). Does not support ephemeral followups.

<RouteHeader method="DELETE" url="/webhooks/{application.id}/{interaction.token}/messages/{message.id}" unauthenticated>
  Delete Followup Message
</RouteHeader>

Deletes a followup message for an interaction. Returns a 204 empty response on success. Does not support ephemeral followups.

<RouteHeader method="POST" url="/interactions">
  Create Interaction
</RouteHeader>

Creates an interaction. Returns a 204 empty response on success. Fires [Interaction Create](/topics/gateway-events#interaction-create) and [Interaction Success](/topics/gateway-events#interaction-success) or [Interaction Failure](/topics/gateway-events#interaction-failure) Gateway events.

Files must be attached using a `multipart/form-data` body (or pre-uploaded to Discord's GCP bucket) as described in [Uploading Files](/reference#uploading-files).

###### JSON/Form Params

| Field               | Type      | Description                                                                                                      |
| ------------------- | --------- | ---------------------------------------------------------------------------------------------------------------- |
| type                | integer   | The [type of interaction to create](#interaction-type)                                                           |
| application_id      | snowflake | The ID of the application                                                                                        |
| guild_id?           | snowflake | The ID of the guild                                                                                              |
| channel_id          | snowflake | The ID of the channel                                                                                            |
| message_id? ^1^     | snowflake | The ID of the message that the component is attached to                                                          |
| message_flags? ^1^  | integer   | The [message's flags](/resources/message#message-flags)                                                          |
| session_id?         | string    | The session ID that is creating the interaction                                                                  |
| data                | object    | The [interaction data](#interaction-type), depending on the interaction type                                     |
| nonce?              | string    | The interaction's nonce, used for interaction deduplication (will be present in accompanying interaction events) |
| analytics_location? | string    | The [location where the interaction is being created](#interaction-creation-location)                            |
| section_name?       | string    | The [name of the section](#interaction-creation-section-name)                                                    |
| source?             | string    | The [source of interaction creation](#interaction-creation-source-type)                                          |

^1^ Only applicable for [`MESSAGE_COMPONENT` interactions](#interaction-type).

###### Sendable Application Command Interaction Data Structure

| Field                | Type                                                                                                                        | Description                                                                                        |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| version              | snowflake                                                                                                                   | The autoincrementing version identifier updated during substantial command record changes          |
| id                   | snowflake                                                                                                                   | The ID of the application command                                                                  |
| name                 | string                                                                                                                      | The name of the application command                                                                |
| type?                | integer                                                                                                                     | The [type of the application command](/interactions/application-commands#application-command-type) |
| options? ^1^ ^2^     | array[partial [application command option](/interactions/application-commands#application-command-option-structure) object] | The options with their values (max 25)                                                             |
| application_command? | [application command](/interactions/application-commands#application-command-object) object                                 | The application command being executed                                                             |
| target_id? ^3^       | snowflake                                                                                                                   | The ID of the user or message targeted by a context menu                                           |
| attachments? ^4^     | array[partial [attachment](/resources/message#attachment-object) object]                                                    | Partial attachment objects with `filename` and `description` (max 25)                              |

^1^ Only applicable when the application command type is [`CHAT_INPUT`](/interactions/application-commands#application-command-type).

^2^ Options can have only `type`, `name`, `value`, and optionally `focused` fields.

^3^ Only applicable when the application command type is [`USER` or `MESSAGE`](/interactions/application-commands#application-command-type).

^4^ See [Uploading Files](/reference#uploading-files) for details.

###### Sendable Message Component Interaction Data Structure

| Field               | Type                              | Description                                                       |
| ------------------- | --------------------------------- | ----------------------------------------------------------------- |
| component_type? ^1^ | integer                           | The [type of the component](/resources/components#component-type) |
| custom_id           | string                            | The developer-defined identifier for the component                |
| type? ^1^           | integer                           | The [type of the component](/resources/components#component-type) |
| values? ^2^         | array[snowflake] \| array[string] | The selected options in the select menu                           |

^1^ At least or `component_type` or `type` must be provided.

^2^ Only applicable for [`STRING_SELECT`/`USER_SELECT`/`ROLE_SELECT`/`MENTIONABLE_SELECT`/`CHANNEL_SELECT` components](/resources/components#component-type).

###### Sendable Modal Submit Interaction Data Structure

| Field      | Type                                                              | Description                                        |
| ---------- | ----------------------------------------------------------------- | -------------------------------------------------- |
| id         | snowflake                                                         | The ID of the interaction that triggered the modal |
| custom_id  | string                                                            | The developer-defined identifier of the modal      |
| components | array[[component](/resources/components#component-object) object] | The values to submit                               |

###### Interaction Creation Location

| Value                                   | Description                                                                        |
| --------------------------------------- | ---------------------------------------------------------------------------------- |
| discovery                               | The application command was executed from Application Directory                    |
| suggestion                              | The application command was suggested as a replacement of text commands            |
| mention                                 | The application command was executed from a mention                                |
| paste                                   | The application command was pasted                                                 |
| recall                                  | Unknown                                                                            |
| popular_commands                        | Unknown                                                                            |
| mj_chat_bar                             | The application command was executed from a Midjourney command promotion           |
| query                                   | Unknown                                                                            |
| slash_ui                                | The application command was executed from the chat bar                             |
| app_launcher                            | The application command was executed from the App Launcher                         |
| app_launcher_home                       | Unknown                                                                            |
| app_launcher_home_search                | Unknown                                                                            |
| app_launcher_list_view_all              | Unknown                                                                            |
| app_launcher_application_view           | Unknown                                                                            |
| app_launcher_application_view_frecent   | Unknown                                                                            |
| app_launcher_application_view_more_menu | Unknown                                                                            |
| app_launcher_slash_search               | Unknown                                                                            |
| app_launcher_frecents_view_all          | Unknown                                                                            |
| image_recs_menu                         | The application command was executed from the "Edit Image With Apps" menu          |
| image_recs_submenu                      | The application command was executed from the "Edit Image With Apps" submenu       |
| activity_instance_embed                 | Unknown                                                                            |
| activity_bookmark_embed                 | Unknown                                                                            |
| activities_mini_shelf                   | Unknown                                                                            |
| vc_tile_activity_suggestion             | Unknown                                                                            |
| app_dms_entry_point_command_button      | The application command was executed by clicking the "Play" button in the chat bar |

###### Interaction Creation Section Name

| Value               | Description                        |
| ------------------- | ---------------------------------- |
| search              | Unknown                            |
| recent              | Unknown                            |
| installed           | Unknown                            |
| activities          | Unknown                            |
| recent_apps         | App Launcher > Recents             |
| recent_commands     | Unknown                            |
| new_to_apps         | Unknown                            |
| apps_in_this_server | App Launcher > Apps in this Server |

###### Interaction Creation Source Type

| Value | Description                                    |
| ----- | ---------------------------------------------- |
| NONE  | Unknown                                        |
| TEXT  | The interaction was created in a text channel  |
| VOICE | The interaction was created in a voice channel |
