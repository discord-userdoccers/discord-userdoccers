<fade-background class="absolute left-0 top-0 w-full h-full bg-black duration-300 md:opacity-0 md:pointer-events-none" transition:persist
></fade-background>

<script>
	import { menuOpen } from "../../nano";

	class FadeBackground extends HTMLElement {
		constructor() {
			super();
			menuOpen.subscribe((v) => {
				this.toggleAttribute("menu-open", v);
			});
			this.addEventListener("click", () => menuOpen.set(false));
		}
	}

	customElements.define("fade-background", FadeBackground);
</script>

<style>
	fade-background {
		opacity: 0;
		pointer-events: none;
		z-index: 150;
	}

	fade-background[menu-open] {
		opacity: 0.5;
	}

	@media (min-width: 768px) {
		fade-background {
			display: none;
		}
	}
</style>
