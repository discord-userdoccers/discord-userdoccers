<code-class style="display: contents;">
	<code><slot /></code>
</code-class>

<script>
	class CodeClassApplier extends HTMLElement {
		constructor() {
			super();
		}

		connectedCallback() {
			const parent = this.parentElement!;
			const code = this.children[0];
			if (parent.tagName !== "PRE") {
				code.className = "px-2 py-teensy bg-sidebar-tertiary-light dark:bg-table-row-background-secondary-dark rounded-md text-sm";
				return;
			}
			code.className = "p-4 px-1.5";
		}
	}

	customElements.define("code-class", CodeClassApplier);
</script>
