* {
  --text-base: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

:root {
  --background-dark: #36373e;
  --sidebar-secondary-dark: #323339;
  --sidebar-tertiary-dark: #36373e;
  --table-head-background-dark: #27272a;
  --table-row-background-secondary-dark: #232428;
  --theme-dark-sidebar: #36373e;
  --theme-dark-sidebar-hover: #393C43;
  --theme-dark-collapsible: #27292d;
}

html.amoled {
  --background-dark: #000000;
  --sidebar-secondary-dark: #121212;
  --sidebar-tertiary-dark: #000000;
  --table-head-background-dark: #0a0a0a;
  --table-row-background-secondary-dark: #050505;
  --theme-dark-sidebar: #000000;
  --theme-dark-sidebar-hover: #1a1a1a;
  --theme-dark-collapsible: #111111;
}

abbr[title].no-underline {
  text-decoration: none;
}

body {
  font-family: "Whitney Medium", var(--text-base);
}

h1,
h2,
h3,
h4,
h5,
h6,
th {
  font-family: "Whitney Semibold Regular", var(--text-base);
}

code * {
  @apply text-sm;
}

i,
em {
  font-family: "Whitney Medium Italic", var(--text-base);
  font-style: normal;
}

#searchContainer .DocSearch-Button,
#error-search {
  width: 100%;
  border-radius: 0.75rem;
  color: inherit;
  /*noinspection CssUnresolvedCustomProperty*/
  background-color: white;
}

#searchContainer .DocSearch-Button {
  /* don't apply this to the errors search */
  padding-left: 0.7em;
  margin: 0 0 1rem;
}

.DocSearch-Button-Container > svg {
  width: 1em;
  height: 1em;
}

[type="search"] {
  background-color: initial;
}

[type="search"]:focus {
  outline: none;
  border-color: transparent;
  box-shadow: none;
}

@media (max-width: 768px) {
  #searchContainer .DocSearch-Button-Placeholder {
    display: initial;
    /*noinspection CssUnresolvedCustomProperty*/
    color: var(--docsearch-placeholder-color);
  }
}

/* Color search bar
/* !!! UPDATE THIS IF CHANGING THEME COLOURS !!! */
#searchContainer .DocSearch-Button,
#error-search {
  background-color: #f2f3f5;
}
[data-theme="dark"] #searchContainer .DocSearch-Button,
[data-theme="dark"] #error-search {
  background-color: #323339;
}

html.amoled #searchContainer .DocSearch-Button,
html.amoled #error-search {
  background-color: #000000;
  border-color: #333;
}

[data-headlessui-portal] > div > div {
  z-index: 9999;
}

[data-headlessui-portal] h2 {
  @apply mt-2;
}

datalist {
  display: none;
}

input::-webkit-calendar-picker-indicator {
  display: none !important;
}

/* Left sidebar positioning */
@media (min-width: 640px) {
  .desktop-left-nav {
    left: max(8px, calc((100vw - min(100vw, 72rem)) / 2 - 25rem));
  }

  .desktop-content-left-pad {
    padding-left: clamp(0px, calc(25rem + 8px - max(0px, (100vw - 72rem) / 2)), 100vw);
  }
}

/* Base max width for main content */
.desktop-content-max {
  max-width: 72rem;
}

/* Right ToC positioning */
@media (min-width: 1600px) {
  .desktop-right-toc {
    display: block !important;
    left: min(calc((100vw + min(100vw, 72rem)) / 2), calc(100vw - 8px - 17rem));
  }

  /* If there is no right ToC, expand content to occupy its space */
  body:not(:has(.desktop-right-toc)) .desktop-content-max {
    max-width: 90rem;
    /* Keep the content's left edge fixed: shift right by half of added width */
    margin-left: 17rem;
  }

  /* Also adjust left padding calculation to use the wider content width (89rem)
     so the reserved left gutter remains consistent and the content's left edge
     does not drift when ToC is absent. */
  body:not(:has(.desktop-right-toc)) .desktop-content-left-pad {
    padding-left: clamp(0px, calc(25rem + 8px - max(0px, (100vw - 89rem) / 2)), 100vw);
  }
}
